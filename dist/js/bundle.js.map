{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/controller.js","src/js/elements.js","src/js/helpers.js","src/js/main.js","src/js/model.js","src/js/movies.js","src/js/view.js"],"names":[],"mappings":"AAAA;;;;;;;kBCWe,YAAW;;AAEtB;AACA,QAAI,sBAAsB,MAAM,IAAN,CAAW,mBAAS,gBAApB,CAA1B;AACA,wBAAoB,OAApB,CAA4B,UAAC,MAAD,EAAS,CAAT,EAAe;AACvC,gCAAU,MAAV,EAAkB,YAAW;AACzB,2BAAK,gBAAL,CAAsB,CAAtB;AACH,SAFD;AAGH,KAJD;;AAMA;AACA,4BAAU,mBAAS,cAAnB,EAAmC,eAAK,oBAAxC;;AAEA;AACA,4BAAU,mBAAS,YAAnB,EAAiC,UAAS,CAAT,EAAY;AACzC,UAAE,cAAF;AACA,YAAI,WAAW,mBAAU,mBAAS,UAAT,CAAoB,KAA9B,EAAqC,SAAS,mBAAS,SAAT,CAAmB,KAA5B,CAArC,EAAyE,mBAAS,WAAT,CAAqB,KAArB,CAA2B,KAA3B,CAAiC,GAAjC,CAAzE,EAAgH,mBAAS,UAAT,CAAoB,KAApI,CAAf;AACA,YAAI,QAAQ,gBAAM,QAAN,CAAe,QAAf,CAAZ;AACA,uBAAK,cAAL,CAAoB,QAApB,EAA8B,KAA9B;AACA,gCAAU,mBAAS,kBAAT,CAA4B,KAA5B,CAAV,EAA8C,YAAW;AACrD,2BAAK,aAAL,CAAmB,KAAnB;AACH,SAFD;AAGA,uBAAK,gBAAL;AACH,KATD,EASG,QATH;;AAWA;AACA,4BAAU,mBAAS,YAAnB,EAAiC,YAAW;AACxC,YAAI,QAAQ,gBAAM,gBAAN,EAAZ;AACA,uBAAK,YAAL,CAAkB,KAAlB;AACH,KAHD;;AAKA;AACA,4BAAU,mBAAS,cAAnB,EAAmC,YAAW;AAC1C,YAAI,QAAQ,gBAAM,kBAAN,EAAZ;AACA,uBAAK,YAAL,CAAkB,KAAlB;AACH,KAHD;;AAKA;AACA,4BAAU,mBAAS,aAAnB,EAAkC,eAAK,gBAAvC;;AAEA;AACA,QAAI,eAAe,MAAM,IAAN,CAAW,mBAAS,aAApB,CAAnB;AACA,iBAAa,OAAb,CAAqB,gBAAQ;AACzB,gCAAU,IAAV,EAAgB,YAAW;AACvB,gBAAI,QAAQ,KAAK,SAAL,CAAe,IAAf,EAAZ;AACA,gBAAI,WAAW,gBAAM,gBAAN,CAAuB,KAAvB,CAAf;AACA,2BAAK,aAAL,CAAmB,QAAnB;AACH,SAJD;AAKH,KAND;;AAQA;AACA,4BAAU,mBAAS,QAAnB,EAA6B,eAAK,gBAAlC;AACA,4BAAU,mBAAS,cAAnB,EAAmC,YAAW;AAC1C,YAAI,OAAO,KAAK,KAAhB;AACA,YAAI,WAAW,gBAAM,iBAAN,CAAwB,IAAxB,CAAf;AACA,uBAAK,aAAL,CAAmB,QAAnB;AACH,KAJD,EAIG,OAJH;;AAMA;AACA,4BAAU,mBAAS,gBAAnB,EAAqC,eAAK,cAA1C;;AAEA;AACA,QAAI,eAAe,MAAM,IAAN,CAAW,mBAAS,kBAApB,CAAnB;AACA,iBAAa,OAAb,CAAqB,UAAC,IAAD,EAAO,KAAP,EAAiB;AAClC,gCAAU,IAAV,EAAgB,YAAW;AACvB,2BAAK,aAAL,CAAmB,KAAnB;AACH,SAFD;AAGH,KAJD;;AAMA;AACA,4BAAU,mBAAS,UAAnB,EAA+B,eAAK,cAApC;;AAEA;AACA,4BAAU,mBAAS,YAAnB,EAAiC,eAAK,aAAtC,EAAqD,OAArD;;AAEA;AACA,QAAI,aAAa,MAAM,IAAN,CAAW,mBAAS,aAApB,CAAjB;AACA,eAAW,OAAX,CAAmB,gBAAQ;AACvB,gCAAU,IAAV,EAAgB,YAAW;AACvB,2BAAK,aAAL,CAAmB,IAAnB;AACH,SAFD;AAGH,KAJD;;AAMA;AACA,4BAAU,mBAAS,gBAAnB,EAAqC,YAAW;AAC5C,YAAI,SAAS,EAAb;AACA,YAAI,eAAJ;AACA,YAAI,QAAQ,mBAAS,UAAT,CAAoB,SAAhC;AAH4C;AAAA;AAAA;;AAAA;AAI5C,iCAAyB,mBAAS,aAAlC,8HAAiD;AAAA,oBAAxC,YAAwC;;AAC7C,oBAAI,aAAa,SAAb,CAAuB,QAAvB,CAAgC,QAAhC,CAAJ,EAA+C;AAC3C,2BAAO,IAAP,CAAY,aAAa,SAAb,CAAuB,IAAvB,EAAZ;AACH;AACJ;AAR2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAS5C,YAAI,CAAC,mBAAS,eAAT,CAAyB,SAAzB,CAAmC,QAAnC,CAA4C,GAA5C,CAAL,EAAuD;AACnD,qBAAS,SAAS,mBAAS,YAAT,CAAsB,KAA/B,CAAT;AACH;;AAED,wBAAM,SAAN,CAAgB,MAAhB,EAAwB,MAAxB,EAAgC,KAAhC;AACA,YAAI,aAAa,4BAAc,KAAd,CAAjB;AACA,uBAAK,eAAL,CAAqB,UAArB;AACH,KAhBD;AAkBH,C;;AAhHD;;;;AACA;;;;AACA;;;;AACA;;;;;;;ACJA,OAAO,OAAP,GAAiB;AACb,mBAAgB,SAAS,cAAT,CAAwB,iBAAxB,CADH;AAEb,cAAW,SAAS,sBAAT,CAAgC,WAAhC,CAFE;AAGb,mBAAgB,SAAS,cAAT,CAAwB,gBAAxB,CAHH;AAIb,oBAAiB,SAAS,sBAAT,CAAgC,kBAAhC,CAJJ;AAKb,oBAAiB,SAAS,sBAAT,CAAgC,kBAAhC,CALJ;AAMb,qBAAkB,SAAS,sBAAT,CAAgC,mBAAhC,CANL;AAOb,oBAAiB,SAAS,sBAAT,CAAgC,kBAAhC,CAPJ;AAQb,mBAAgB,SAAS,sBAAT,CAAgC,iBAAhC,CARH;AASb,mBAAgB,SAAS,cAAT,CAAwB,iBAAxB,CATH;AAUb,sBAAmB,SAAS,cAAT,CAAwB,oBAAxB,CAVN;AAWb,gBAAa,SAAS,cAAT,CAAwB,aAAxB,CAXA;AAYb,eAAY,SAAS,cAAT,CAAwB,YAAxB,CAZC;AAab,eAAY,SAAS,sBAAT,CAAgC,YAAhC,CAbC;AAcb,oBAAiB,SAAS,cAAT,CAAwB,iBAAxB,CAdJ;AAeb,mBAAgB,SAAS,sBAAT,CAAgC,iBAAhC,CAfH;AAgBb;AACA,mBAAgB,SAAS,sBAAT,CAAgC,iBAAhC,CAjBH;AAkBb;AACA,YAAS,SAAS,oBAAT,CAA8B,OAA9B,CAnBI;AAoBb,eAAY,SAAS,sBAAT,CAAgC,YAAhC,CApBC;AAqBb,gBAAa,SAAS,sBAAT,CAAgC,aAAhC,CArBA;AAsBb,sBAAmB,SAAS,sBAAT,CAAgC,oBAAhC,CAtBN;AAuBb,iBAAc,SAAS,cAAT,CAAwB,oBAAxB,CAvBD;AAwBb,iBAAc,SAAS,sBAAT,CAAgC,cAAhC,CAxBD;AAyBb,iBAAc,SAAS,cAAT,CAAwB,oBAAxB,CAzBD;AA0Bb,iBAAc,SAAS,cAAT,CAAwB,oBAAxB,CA1BD;AA2Bb,YAAS,SAAS,sBAAT,CAAgC,OAAhC,CA3BI;AA4Bb,gBAAa,SAAS,cAAT,CAAwB,mBAAxB,CA5BA;AA6Bb,eAAY,SAAS,cAAT,CAAwB,kBAAxB,CA7BC;AA8Bb,gBAAa,SAAS,sBAAT,CAAgC,MAAhC,CA9BA;AA+Bb,wBAAqB,SAAS,sBAAT,CAAgC,sBAAhC,CA/BR;AAgCb,gBAAa,SAAS,KAAT,CAAe,YAAf,CAA4B,KAhC5B;AAiCb,kBAAe,SAAS,KAAT,CAAe,YAjCjB;AAkCb,qBAAkB,SAAS,KAAT,CAAe,eAlCpB;AAmCb,iBAAc,SAAS,KAAT,CAAe,YAAf,CAA4B,MAnC7B;AAoCb,gBAAa,SAAS,cAAT,CAAwB,aAAxB,CApCA;AAqCb,kBAAe,SAAS,cAAT,CAAwB,WAAxB,CArCF;AAsCb,iBAAa,SAAS,cAAT,CAAwB,cAAxB,CAtCA;AAuCb,gBAAa,SAAS,KAAT,CAAe,YAAf,CAA4B,KAvC5B;AAwCb,eAAY,SAAS,KAAT,CAAe,YAAf,CAA4B,IAxC3B;AAyCb,oBAAiB,SAAS,cAAT,CAAwB,kBAAxB,CAzCJ;AA0Cb,oBAAiB,SAAS,cAAT,CAAwB,kBAAxB,CA1CJ;AA2Cb,mBAAgB,SAAS,cAAT,CAAwB,iBAAxB,CA3CH;AA4Cb,qBAAkB,SAAS,cAAT,CAAwB,mBAAxB,CA5CL;AA6Cb,mBAAgB,SAAS,cAAT,CAAwB,iBAAxB,CA7CH;AA8Cb,kBAAe,SAAS,sBAAT,CAAgC,eAAhC,CA9CF;AA+Cb,iBAAc,SAAS,cAAT,CAAwB,eAAxB,CA/CD;AAgDb,iBAAc,SAAS,cAAT,CAAwB,cAAxB,CAhDD;AAiDb,kBAAe,SAAS,cAAT,CAAwB,eAAxB,CAjDF;AAkDb,gBAAa,SAAS,cAAT,CAAwB,aAAxB,CAlDA;AAmDb,sBAAmB,SAAS,cAAT,CAAwB,oBAAxB,CAnDN;AAoDb,eAAY,SAAS,cAAT,CAAwB,YAAxB,CApDC;AAqDb,kBAAe,SAAS,cAAT,CAAwB,gBAAxB,CArDF;AAsDb,oBAAiB,SAAS,cAAT,CAAwB,kBAAxB,CAtDJ;AAuDb,cAAW,SAAS,cAAT,CAAwB,WAAxB;AAvDE,CAAjB;;;;;;;;QCIgB,U,GAAA,U;QAYA,K,GAAA,K;QAQA,S,GAAA,S;QAIA,W,GAAA,W;QAYA,a,GAAA,a;QAUA,e,GAAA,e;QAWA,e,GAAA,e;;AA7DhB;;;;;;AAEA,IAAM,YAAY,EAAlB;;AAEO,SAAS,UAAT,CAAoB,GAApB,EAAyB;AAC5B,QAAI,MAAM,CAAV;AACA,QAAI,IAAI,MAAJ,KAAe,CAAnB,EAAsB;AAClB,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAxB,EAAgC,GAAhC,EAAqC;AACjC,mBAAO,IAAI,CAAJ,CAAP;AACH;AACD,eAAO,CAAC,MAAM,IAAI,MAAX,EAAmB,OAAnB,CAA2B,CAA3B,CAAP;AACH,KALD,MAKO;AACH,eAAO,KAAP;AACH;AACJ;;AAEM,SAAS,KAAT,CAAe,KAAf,EAAsB,IAAtB,EAA4B,MAA5B,EAAoC,KAApC,EAA2C;AAC9C,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,OAAL,GAAe,EAAf;AACA,SAAK,KAAL,GAAa,SAAS,iCAAtB;AACH;;AAEM,SAAS,SAAT,CAAmB,MAAnB,EAA2B,QAA3B,EAAsE;AAAA,QAAjC,IAAiC,uEAA1B,OAA0B;AAAA,QAAjB,OAAiB,uEAAP,KAAO;;AACzE,WAAO,gBAAP,CAAwB,IAAxB,EAA8B,QAA9B,EAAwC,CAAC,CAAC,OAA1C;AACH;;AAEM,SAAS,WAAT,GAAuB;AAC1B,QAAI,WAAW,EAAf;AACA,SAAK,IAAI,GAAT,IAAgB,YAAhB,EAA8B;;AAE1B;AACA,YAAI,OAAO,aAAa,GAAb,CAAP,KAA6B,QAAjC,EAEI,SAAS,IAAT,CAAc,KAAK,KAAL,CAAW,aAAa,GAAb,CAAX,CAAd;AACP;AACD,WAAO,QAAP;AACH;;AAEM,SAAS,aAAT,CAAuB,KAAvB,EAA8B;AACjC,QAAI,WAAW,aAAf;AACA,QAAI,QAAQ,SAAS,MAAT,CAAgB,UAAC,CAAD,EAAI,CAAJ;AAAA,eACxB,EAAE,KAAF,KAAY,KAAZ,GAAoB,CAApB,GAAwB,CADA;AAAA,KAAhB,CAAZ;AAGA,QAAI,aAAa,SAAS,OAAT,CAAiB,KAAjB,CAAjB;AACA,WAAO,UAAP;AACH;;AAED;AACO,SAAS,eAAT,GAA2B;AAAA;AAAA;AAAA;;AAAA;AAC9B,6BAAkB,mBAAS,MAA3B,8HAAmC;AAAA,gBAA1B,KAA0B;;AAC/B,sBAAU,KAAV,EAAiB,UAAS,CAAT,EAAY;AACzB,oBAAI,EAAE,KAAF,KAAY,SAAZ,IAAyB,EAAE,MAAF,CAAS,cAAT,KAA4B,CAAzD,EAA4D;AACxD,sBAAE,cAAF;AACH;AACJ,aAJD,EAIG,SAJH;AAKH;AAP6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQjC;;AAED;AACO,SAAS,eAAT,CAAyB,KAAzB,EAAgC;AACnC,eAAW,YAAW;AAClB,YAAI,mBAAS,cAAT,CAAwB,KAAxB,EAA+B,MAA/B,GAAwC,CAA5C,EAA+C;AAC3C,+BAAS,cAAT,CAAwB,KAAxB,EAA+B,GAA/B,GAAqC,iCAArC;AACH;AACJ,KAJD,EAIG,IAJH;AAKH;;;;;ACnED;;;;AACA;;;;AACA;;;;AACA;;;;AAKA;AACA,IAAI,OAAO,OAAP,KAAoB,WAAxB,EAAqC;AACjC,QAAI,aAAa,OAAb,CAAqB,GAArB,MAA8B,IAAlC,EAAwC;AACpC,wBAAM,YAAN;AACH;AACJ;AACD;AALA,KAMK;AACD,cAAM,wFAAN;AACH;;AAED,IAAI,WAAW,2BAAf;AACA,eAAK,eAAL,CAAqB,QAArB;AACA;AACA;;;;;;;;;ACtBA;;;;AACA;;;;kBAMe;;AAEX;AACA,gBAHW,0BAGI;AACX,yBAAQ,OAAR,CAAgB,UAAC,KAAD,EAAQ,KAAR,EAAkB;AAC9B,yBAAa,OAAb,CAAqB,KAAK,SAAL,CAAe,KAAf,CAArB,EAA4C,KAAK,SAAL,CAAe,KAAf,CAA5C;AACH,SAFD;AAGH,KAPU;AASX,YATW,oBASF,KATE,EASK;AACZ,YAAI,QAAQ,aAAa,MAAzB;AACA,qBAAa,OAAb,CAAqB,KAAK,SAAL,CAAe,KAAf,CAArB,EAA4C,KAAK,SAAL,CAAe,KAAf,CAA5C;AACA,eAAO,KAAP;AACH,KAbU;AAeX,aAfW,qBAeD,MAfC,EAeO,MAfP,EAee,KAff,EAesB;AAC7B,aAAK,IAAI,GAAT,IAAgB,YAAhB,EAA8B;AAC1B,gBAAI,OAAO,aAAa,GAAb,CAAP,KAA6B,QAAjC,EAA2C;AACvC,oBAAI,QAAQ,KAAK,KAAL,CAAW,aAAa,GAAb,CAAX,CAAZ;AACA,oBAAI,MAAM,KAAN,KAAgB,KAApB,EAA2B;AACvB,0BAAM,MAAN,GAAe,MAAf;AACA,wBAAI,WAAW,SAAf,EAA0B;AACtB,8BAAM,OAAN,CAAc,IAAd,CAAmB,MAAnB;AACH;AACD,iCAAa,OAAb,CAAqB,KAAK,SAAL,CAAe,GAAf,CAArB,EAA0C,KAAK,SAAL,CAAe,KAAf,CAA1C;AACH;AACJ;AACJ;AACJ,KA5BU;AA8BX,oBA9BW,8BA8BQ;AACf,YAAI,WAAW,2BAAf;AACA,YAAI,kBAAkB,SAAS,MAAT,CAAgB;AAAA,mBAAS,MAAM,OAAN,CAAc,MAAd,GAAuB,CAAhC;AAAA,SAAhB,CAAtB;AACA,YAAI,WAAW,gBAAgB,MAAhB,CACX,UAAC,OAAD,EAAU,OAAV;AAAA,mBACA,yBAAW,QAAQ,OAAnB,IAA8B,yBAAW,QAAQ,OAAnB,CAA9B,GACA,OADA,GAEA,OAHA;AAAA,SADW,CAAf;AAMA,eAAO,QAAP;AACH,KAxCU;AA0CX,sBA1CW,gCA0CU;AACjB,YAAI,WAAW,2BAAf;AACA,YAAI,kBAAkB,SAAS,MAAT,CAAgB;AAAA,mBAAS,MAAM,OAAN,CAAc,MAAd,GAAuB,CAAhC;AAAA,SAAhB,CAAtB;AACA,YAAI,aAAa,gBAAgB,MAAhB,CACb,UAAC,OAAD,EAAU,OAAV;AAAA,mBACA,yBAAW,QAAQ,OAAnB,IAA8B,yBAAW,QAAQ,OAAnB,CAA9B,GACA,OADA,GAEA,OAHA;AAAA,SADa,CAAjB;AAMA,eAAO,UAAP;AACH,KApDU;AAsDX,qBAtDW,6BAsDO,SAtDP,EAsDkB;AACzB,YAAI,WAAW,2BAAf;AACA,eAAO,SAAS,MAAT,CACH,UAAC,KAAD,EAAQ,KAAR;AAAA,mBACA,MAAM,IAAN,KAAe,SAAS,SAAT,CADf;AAAA,SADG,CAAP;AAIH,KA5DU;AA8DX,oBA9DW,4BA8DM,UA9DN,EA8DkB;AACzB,YAAI,WAAW,2BAAf;AACA,YAAI,WAAW,SAAS,MAAT,CACX,UAAC,KAAD,EAAQ,KAAR;AAAA,mBACA,MAAM,MAAN,CAAa,QAAb,CAAsB,UAAtB,CADA;AAAA,SADW,CAAf;AAIA,eAAO,QAAP;AACH;AArEU,C;;;;;ACPf,OAAO,OAAP,GACA,CACE;AACQ,WAAO,gCADf;AAEQ,WAAO,+CAFf;AAGQ,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,EAAb,CAHjB;AAIQ,UAAM,IAJd;AAKQ,YAAQ,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB;AALhB,CADF,EAQM;AACI,WAAO,YADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,QAAX,EAAqB,UAArB;AALZ,CARN,EAeM;AACI,WAAO,iCADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,WAAX,EAAwB,QAAxB;AALZ,CAfN,EAsBM;AACI,WAAO,4BADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,QAAX,EAAqB,UAArB;AALZ,CAtBN,EA6BM;AACI,WAAO,eADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,OAAD,EAAU,UAAV;AALZ,CA7BN,EAoCM;AACI,WAAO,kBADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB;AALZ,CApCN,EA2CM;AACI,WAAO,0BADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,WAAX,EAAwB,SAAxB;AALZ,CA3CN,EAkDM;AACI,WAAO,SADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB;AALZ,CAlDN,EAyDM;AACI,WAAO,MADX;AAEI,WAAO,+CAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,WAAD,EAAc,QAAd,EAAwB,QAAxB;AALZ,CAzDN,EAgEM;AACI,WAAO,iBADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,UAAX;AALZ,CAhEN,EAuEM;AACI,WAAO,iBADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,WAAD,EAAc,QAAd,EAAwB,QAAxB;AALZ,CAvEN,EA8EM;AACI,WAAO,mBADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD,EAAW,OAAX;AALZ,CA9EN,EAqFM;AACI,WAAO,cADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,WAAD,EAAc,WAAd,EAA2B,QAA3B;AALZ,CArFN,EA4FM;AACI,WAAO,eADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,QAAD;AALZ,CA5FN,EAmGM;AACI,WAAO,0BADX;AAEI,WAAO,gDAFX;AAGI,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,CAHb;AAII,UAAM,IAJV;AAKI,YAAQ,CAAC,WAAD,EAAc,WAAd,EAA2B,QAA3B;AALZ,CAnGN,CADA;;;;;;;;;ACCA;;;;AACA;;;;AAFA;kBAUe;AAEX,mBAFW,2BAEK,QAFL,EAEe;AACtB,2BAAS,aAAT,CAAuB,SAAvB,GAAmC,EAAnC;AADsB;AAAA;AAAA;;AAAA;AAEtB,iCAAkB,QAAlB,8HAA4B;AAAA,oBAAnB,KAAmB;;AACxB,mCAAS,aAAT,CAAuB,SAAvB;AAkBH;;AAED;AAvBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwBtB,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,MAA7B,EAAqC,GAArC,EAA0C;AACtC,+BAAS,cAAT,CAAwB,CAAxB,EAA2B,GAA3B,GAAiC,SAAS,CAAT,EAAY,KAA7C;AACA,0CAAgB,CAAhB;AACA,+BAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,GAAuC,SAAS,CAAT,EAAY,KAAnD;AACA,+BAAS,aAAT,CAAuB,CAAvB,EAA0B,SAA1B,GAAsC,SAAS,CAAT,EAAY,IAAlD;AACA,+BAAS,eAAT,CAAyB,CAAzB,EAA4B,KAA5B,CAAkC,KAAlC,GAA6C,yBAAW,SAAS,CAAT,EAAY,OAAvB,IAAiC,EAA9E;AACA,+BAAS,eAAT,CAAyB,CAAzB,EAA4B,SAA5B,QAA2C,yBAAW,SAAS,CAAT,EAAY,OAAvB,CAA3C;AANsC;AAAA;AAAA;;AAAA;AAOtC,sCAAkB,SAAS,CAAT,EAAY,MAA9B,mIAAsC;AAAA,wBAA7B,KAA6B;;AAClC,uCAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,wCAA0E,KAA1E;AACH;AATqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUzC;AACJ,KArCU;;;AAuCX;AACA,iBAxCW,yBAwCG,KAxCH,EAwCU;AACjB,2BAAS,YAAT,CAAsB,KAAtB,CAA4B,KAA5B,GAAoC,OAApC;AACA,2BAAS,UAAT,CAAoB,SAApB,GAAgC,mBAAS,cAAT,CAAwB,KAAxB,EAA+B,SAA/D;AACA,2BAAS,SAAT,CAAmB,SAAnB,GAA+B,mBAAS,aAAT,CAAuB,KAAvB,EAA8B,SAA7D;AACA,2BAAS,WAAT,CAAqB,GAArB,GAA2B,mBAAS,cAAT,CAAwB,KAAxB,EAA+B,GAA1D;AACA,2BAAS,WAAT,CAAqB,SAArB,GAAiC,mBAAS,cAAT,CAAwB,KAAxB,EAA+B,SAAhE;AACA,2BAAS,WAAT,CAAqB,SAArB,GAAiC,mBAAS,eAAT,CAAyB,KAAzB,EAAgC,SAAjE;AACA,2BAAS,WAAT,CAAqB,SAArB,cAA0C,SAAS,mBAAS,WAAT,CAAqB,SAA9B,IAA2C,EAArF;AACH,KAhDU;;;AAkDX;AACA,kBAnDW,4BAmDM;AACb,2BAAS,YAAT,CAAsB,KAAtB,CAA4B,KAA5B,GAAoC,GAApC;AACH,KArDU;;;AAuDX;AACA,kBAxDW,4BAwDM;AACb,YAAI,cAAc,MAAM,IAAN,CAAW,mBAAS,WAAT,CAAqB,UAAhC,CAAlB;AACA,YAAI,aAAa,MAAM,IAAN,CAAW,mBAAS,aAApB,CAAjB;AACA,2BAAS,SAAT,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,QAAjC;AACA,2BAAS,aAAT,CAAuB,SAAvB,GAAmC,mBAAS,WAAT,CAAqB,SAAxD;AACA,2BAAS,eAAT,CAAyB,SAAzB,GAAqC,mBAAS,WAAT,CAAqB,SAA1D;AACA,2BAAS,YAAT,CAAsB,KAAtB,GAA8B,CAA9B;;AAEA;AACA,mBAAW,OAAX,CAAmB,gBAAQ;AACvB,gBAAI,KAAK,SAAL,CAAe,QAAf,CAAwB,QAAxB,CAAJ,EACI,KAAK,SAAL,CAAe,MAAf,CAAsB,QAAtB;AACP,SAHD;;AAKA;AACA,oBAAY,OAAZ,CAAoB,iBAAS;AACzB,uBAAW,GAAX,CAAe,gBAAQ;AACnB,oBAAI,KAAK,SAAL,KAAmB,MAAM,SAA7B,EACI,KAAK,SAAL,CAAe,GAAf,CAAmB,QAAnB;AACP,aAHD;AAIH,SALD;AAMH,KA7EU;;;AA+EX;AACA,mBAhFW,2BAgFK,KAhFL,EAgFY;AACnB,YAAI,cAAc,MAAM,IAAN,CAAW,mBAAS,WAAT,CAAqB,UAAhC,CAAlB;AACA,YAAI,aAAa,MAAM,IAAN,CAAW,mBAAS,aAApB,CAAjB;AACA,YAAI,WAAW,2BAAf;AACA,2BAAS,SAAT,CAAmB,SAAnB,CAA6B,MAA7B,CAAoC,QAApC;;AAEA;AACA,2BAAS,WAAT,CAAqB,SAArB,GAAiC,EAAjC;AACA,mBAAW,OAAX,CAAmB,gBAAQ;AACvB,gBAAI,KAAK,SAAL,CAAe,QAAf,CAAwB,QAAxB,CAAJ,EAAuC;AACnC,mCAAS,WAAT,CAAqB,SAArB,wCAAoE,KAAK,SAAzE;AACH;AACJ,SAJD;;AAMA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,mBAAS,cAAT,CAAwB,MAA5C,EAAoD,GAApD,EAAyD;AACrD,gBAAI,mBAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,KAAyC,mBAAS,UAAT,CAAoB,SAAjE,EAA4E;AACxE,mCAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,GAAuC,mBAAS,WAAT,CAAqB,SAA5D;AACH;AACJ;;AAED;AACA,2BAAS,eAAT,CAAyB,KAAzB,EAAgC,KAAhC,CAAsC,KAAtC,GAAiD,yBAAW,SAAS,KAAT,EAAgB,OAA3B,IAAqC,EAAtF;AACA,2BAAS,eAAT,CAAyB,KAAzB,EAAgC,SAAhC,QAA+C,yBAAW,SAAS,KAAT,EAAgB,OAA3B,CAA/C;AACA,2BAAS,WAAT,CAAqB,SAArB,GAAiC,mBAAS,eAAT,CAAyB,KAAzB,EAAgC,SAAjE;AACA,2BAAS,WAAT,CAAqB,SAArB,cAA0C,SAAS,mBAAS,WAAT,CAAqB,SAA9B,IAA2C,EAArF;AACH,KAzGU;;;AA2GX;AACA,oBA5GW,4BA4GM,CA5GN,EA4GS;AAChB,2BAAS,MAAT,CAAgB,CAAhB,EAAmB,SAAnB,CAA6B,MAA7B,CAAoC,QAApC;AACH,KA9GU;;;AAgHX;AACA,gBAjHW,wBAiHE,KAjHF,EAiHS;AAChB,YAAI,eAAe,MAAM,IAAN,CAAW,mBAAS,cAApB,CAAnB;AACA,qBAAa,MAAb,CAAoB,UAAC,KAAD,EAAQ,CAAR;AAAA,mBAChB,MAAM,KAAN,KAAgB,MAAM,SAAtB,GACA,mBAAS,kBAAT,CAA4B,CAA5B,EAA+B,KAA/B,CAAqC,OAArC,GAA+C,OAD/C,GAEA,mBAAS,kBAAT,CAA4B,CAA5B,EAA+B,KAA/B,CAAqC,OAArC,GAA+C,MAH/B;AAAA,SAApB;AAKH,KAxHU;;AAyHX;AACA,iBA1HW,yBA0HG,GA1HH,EA0HQ;AACf,YAAI,eAAe,MAAM,IAAN,CAAW,mBAAS,cAApB,CAAnB;AACA,YAAI,gBAAgB,IAAI,GAAJ,CAAQ;AAAA,mBACxB,MAAM,KADkB;AAAA,SAAR,CAApB;AAGA,qBAAa,MAAb,CAAoB,UAAC,KAAD,EAAQ,CAAR;AAAA,mBAChB,cAAc,QAAd,CAAuB,MAAM,SAA7B,IACA,mBAAS,kBAAT,CAA4B,CAA5B,EAA+B,KAA/B,CAAqC,OAArC,GAA+C,OAD/C,GAEA,mBAAS,kBAAT,CAA4B,CAA5B,EAA+B,KAA/B,CAAqC,OAArC,GAA+C,MAH/B;AAAA,SAApB;AAKH,KApIU;;;AAsIX;AACA,wBAvIW,kCAuIY;AACnB,2BAAS,aAAT,CAAuB,SAAvB,CAAiC,GAAjC,CAAqC,QAArC;AACA,2BAAS,UAAT,CAAoB,KAApB;AACA,2BAAS,UAAT,CAAoB,MAApB;AACH,KA3IU;;;AA6IX;AACA,iBA9IW,2BA8IK;AACZ,2BAAS,aAAT,CAAuB,SAAvB,GAAmC,KAAK,KAAxC;AACA,2BAAS,eAAT,CAAyB,SAAzB,cAA8C,KAAK,KAAL,GAAa,EAA3D;AACH,KAjJU;;AAkJX;AACA,oBAnJW,8BAmJQ;AAAA;;AACf,2BAAS,cAAT,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,MAAzC;AACA,2BAAS,cAAT,CAAwB,KAAxB;AACA,2BAAS,cAAT,CAAwB,MAAxB;AACA,gCAAU,SAAS,IAAnB,EAAyB,aAAK;AAC1B,gBAAI,EAAE,MAAF,UAAJ,EAAuB;AACnB,mCAAS,cAAT,CAAwB,SAAxB,CAAkC,GAAlC,CAAsC,MAAtC;AACH;AACJ,SAJD;AAKH,KA5JU;;;AA8JX;AACA,oBA/JW,8BA+JQ;AACf,YAAI,eAAe,MAAM,IAAN,CAAW,mBAAS,kBAApB,CAAnB;AACA,eAAO,aAAa,OAAb,CAAqB;AAAA,mBACxB,KAAK,KAAL,CAAW,OAAX,GAAqB,OADG;AAAA,SAArB,CAAP;AAGH,KApKU;;AAqKX;AACA,kBAtKW,0BAsKI,QAtKJ,EAsKc,CAtKd,EAsKiB;AACxB,YAAM,YAAY,SAAS,aAAT,CAAuB,KAAvB,CAAlB;AACA,kBAAU,YAAV,CAAuB,OAAvB,EAAgC,mCAAhC;AACA,kBAAU,SAAV;;AAiBA,2BAAS,aAAT,CAAuB,WAAvB,CAAmC,SAAnC;;AAEA,2BAAS,cAAT,CAAwB,CAAxB,EAA2B,GAA3B,GAAiC,SAAS,KAAT,IAAkB,iCAAnD;AACA,2BAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,GAAuC,SAAS,KAAhD;AACA,2BAAS,aAAT,CAAuB,CAAvB,EAA0B,SAA1B,GAAsC,SAAS,IAA/C;AACA,2BAAS,eAAT,CAAyB,CAAzB,EAA4B,KAA5B,CAAkC,KAAlC,GAA6C,yBAAW,SAAS,OAApB,IAA8B,EAA3E;AACA,2BAAS,eAAT,CAAyB,CAAzB,EAA4B,SAA5B,QAA2C,yBAAW,SAAS,OAApB,CAA3C;AA1BwB;AAAA;AAAA;;AAAA;AA2BxB,kCAAkB,SAAS,MAA3B,mIAAmC;AAAA,oBAA1B,KAA0B;;AAC/B,mCAAS,cAAT,CAAwB,CAAxB,EAA2B,SAA3B,6BAA+D,KAA/D;AACH;AA7BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA+BxB,2BAAS,aAAT,CAAuB,SAAvB,CAAiC,MAAjC,CAAwC,QAAxC;AACH,KAtMU;;;AAwMX;AACA,iBAzMW,yBAyMG,KAzMH,EAyMU;AACjB,YAAI,CAAC,MAAM,SAAN,CAAgB,QAAhB,CAAyB,QAAzB,CAAL,EAAyC;AACrC,kBAAM,SAAN,CAAgB,GAAhB,CAAoB,QAApB;AACH,SAFD,MAEO;AACH,kBAAM,SAAN,CAAgB,MAAhB,CAAuB,QAAvB;AACH;AACJ;AA/MU,C","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//jshint esversion: 6\nimport Model from './model'\nimport Elements from './elements'\nimport View from './view'\nimport {\n    Movie,\n    bindEvent,\n    parseMovies,\n    getMovieIndex\n} from './helpers'\n\nexport default function() {\n\n    // Binds close button on every modal to close the respective modal\n    let modalCloseButtonArr = Array.from(Elements.modalCloseButton);\n    modalCloseButtonArr.forEach((button, i) => {\n        bindEvent(button, function() {\n            View.closeActiveModal(i);\n        });\n    });\n\n    // Binds button to open modal for adding new movie\n    bindEvent(Elements.newMovieButton, View.displayNewMovieModal);\n\n    // Handling of new movie\n    bindEvent(Elements.movieCreator, function(e) {\n        e.preventDefault();\n        let newMovie = new Movie(Elements.movieTitle.value, parseInt(Elements.movieYear.value), Elements.movieGenres.value.split(','), Elements.movieCover.value);\n        let index = Model.addMovie(newMovie);\n        View.renderNewMovie(newMovie, index);\n        bindEvent(Elements.movieCardContainer[index], function() {\n            View.openMovieView(index);\n        });\n        View.displayAllMovies();\n    }, 'submit');\n\n    // Binding top rated\n    bindEvent(Elements.topRatedLink, function() {\n        let movie = Model.getTopRatedMovie();\n        View.displayMovie(movie);\n    });\n\n    // Bind worst rated\n    bindEvent(Elements.worstRatedLink, function() {\n        let movie = Model.getWorstRatedMovie();\n        View.displayMovie(movie);\n    });\n\n    // Call view function to display all movies\n    bindEvent(Elements.allMoviesLink, View.displayAllMovies);\n\n    // Create click functions for all menu genre links\n    let genreLinkArr = Array.from(Elements.genreLinkName);\n    genreLinkArr.forEach(link => {\n        bindEvent(link, function() {\n            let genre = this.innerHTML.trim();\n            let movieArr = Model.getMoviesByGenre(genre);\n            View.displayMovies(movieArr);\n        });\n    });\n\n    // Creating click function for year filter on menu\n    bindEvent(Elements.yearSort, View.displayYearInput);\n    bindEvent(Elements.movieYearInput, function() {\n        let year = this.value;\n        let movieArr = Model.getMoviesThisYear(year);\n        View.displayMovies(movieArr);\n    }, 'keyup');\n\n    // Close movie preview when clicking on button\n    bindEvent(Elements.closeMovieButton, View.closeMovieView);\n\n    // Click function to open movie sidebar view for all current movies in db\n    let movieCardArr = Array.from(Elements.movieCardContainer);\n    movieCardArr.forEach((card, index) => {\n        bindEvent(card, function() {\n            View.openMovieView(index);\n        });\n    });\n\n    // Open edit movie view\n    bindEvent(Elements.editButton, View.editMovieModal);\n\n    // Bind rating slider changes when editing movie\n    bindEvent(Elements.ratingSlider, View.displayRating, 'input');\n\n    // Preview active genres when editing movie\n    let genreChips = Array.from(Elements.genreEditChip);\n    genreChips.forEach(chip => {\n        bindEvent(chip, function() {\n            View.previewGenres(this);\n        });\n    });\n\n    // Submit changes to edited movie\n    bindEvent(Elements.submitEditButton, function() {\n        let genres = [];\n        let rating;\n        let title = Elements.modalTitle.innerHTML;\n        for (let activeGenres of Elements.genreEditChip) {\n            if (activeGenres.classList.contains('active')) {\n                genres.push(activeGenres.innerHTML.trim());\n            }\n        }\n        if (!Elements.newRatingCircle.innerHTML.includes('.')) {\n            rating = parseInt(Elements.ratingSlider.value);\n        }\n\n        Model.editMovie(genres, rating, title);\n        let movieIndex = getMovieIndex(title);\n        View.changeMovieHTML(movieIndex);\n    });\n\n}\n","module.exports = {\n    allMoviesLink : document.getElementById('all-movies-link'),\n    cardBody : document.getElementsByClassName('card-body'),\n    cardContainer : document.getElementById('card-container'),\n    cardMovieCover : document.getElementsByClassName('card-movie-cover'),\n    cardMovieGenre : document.getElementsByClassName('card-movie-genre'),\n    cardMovieRating : document.getElementsByClassName('card-movie-rating'),\n    cardMovieTitle : document.getElementsByClassName('card-movie-title'),\n    cardMovieYear : document.getElementsByClassName('card-movie-year'),\n    closeNewMovie : document.getElementById('close-new-movie'),\n    closeMovieButton : document.getElementById('close-movie-button'),\n    editButton : document.getElementById('edit-button'),\n    editModal : document.getElementById('edit-modal'),\n    genreChip : document.getElementsByClassName('genre-chip'),\n    genreContainer : document.getElementById('genre-container'),\n    genreEditChip : document.getElementsByClassName('genre-edit-chip'),\n    // genreLabelCount : document.getElementsByClassName('genre-label-count'),\n    genreLinkName : document.getElementsByClassName('genre-link-name'),\n    // genreSuccess : document.getElementById('genre-success'),\n    inputs : document.getElementsByTagName('input'),\n    listGenre : document.getElementsByClassName('list-genre'),\n    listRating : document.getElementsByClassName('list-rating'),\n    modalCloseButton : document.getElementsByClassName('modal-close-button'),\n    modalGenres : document.getElementById('modal-movie-genres'),\n    modalOpener : document.getElementsByClassName('modal-opener'),\n    modalPoster : document.getElementById('modal-movie-poster'),\n    modalRating : document.getElementById('modal-movie-rating'),\n    modals : document.getElementsByClassName('modal'),\n    modalTitle : document.getElementById('modal-movie-title'),\n    modalYear : document.getElementById('modal-movie-year'),\n    movieCards : document.getElementsByClassName('card'),\n    movieCardContainer : document.getElementsByClassName('movie-card-container'),\n    movieCover : document.forms.movieCreator.cover,\n    movieCreator : document.forms.movieCreator,\n    movieGenreInput : document.forms.movieGenreInput,\n    movieGenres : document.forms.movieCreator.genres,\n    movieModal : document.getElementById('movie-modal'),\n    moviePreview : document.getElementById('mySidenav'),\n    movieResult: document.getElementById('movie-result'),\n    movieTitle : document.forms.movieCreator.title,\n    movieYear : document.forms.movieCreator.year,\n    movieYearInput : document.getElementById('movie-year-input'),\n    newMovieButton : document.getElementById('new-movie-button'),\n    newMovieModal : document.getElementById('new-movie-modal'),\n    newRatingCircle : document.getElementById('new-rating-circle'),\n    newRatingSpan : document.getElementById('new-rating-span'),\n    ratingButton : document.getElementsByClassName('rating-button'),\n    ratingCirle : document.getElementById('rating-circle'),\n    ratingModal : document.getElementById('rating-modal'),\n    ratingSlider : document.getElementById('rating-slider'),\n    ratingSort : document.getElementById('rating-sort'),\n    submitEditButton : document.getElementById('submit-edit-button'),\n    titleSort : document.getElementById('title-sort'),\n    topRatedLink : document.getElementById('top-rated-link'),\n    worstRatedLink : document.getElementById('worst-rated-link'),\n    yearSort : document.getElementById('year-sort')\n};\n","import Elements from './elements'\n\nconst SPACE_BAR = 32;\n\nexport function getAverage(arr) {\n    let sum = 0;\n    if (arr.length !== 0) {\n        for (let i = 0; i < arr.length; i++) {\n            sum += arr[i];\n        }\n        return (sum / arr.length).toFixed(1);\n    } else {\n        return 'N/A';\n    }\n}\n\nexport function Movie(title, year, genres, image) {\n    this.title = title;\n    this.year = year;\n    this.genres = genres;\n    this.ratings = [];\n    this.image = image || 'dist/pics/movie-placeholder.svg';\n}\n\nexport function bindEvent(target, callback, type = 'click', capture = false) {\n    target.addEventListener(type, callback, !!capture);\n}\n\nexport function parseMovies() {\n    let movieArr = [];\n    for (let key in localStorage) {\n\n        // Prevents other values in Firefox to be pushed\n        if (typeof localStorage[key] === 'string')\n\n            movieArr.push(JSON.parse(localStorage[key]));\n    }\n    return movieArr;\n}\n\nexport function getMovieIndex(title) {\n    let movieArr = parseMovies();\n    let movie = movieArr.reduce((c, p) =>\n        c.title === title ? c : p\n    );\n    let movieIndex = movieArr.indexOf(movie);\n    return movieIndex;\n}\n\n//Prevents blank space as first character in all input fields\nexport function blockWhiteSpace() {\n    for (let input of Elements.inputs) {\n        bindEvent(input, function(e) {\n            if (e.which === SPACE_BAR && e.target.selectionStart === 0) {\n                e.preventDefault();\n            }\n        }, 'keydown');\n    }\n}\n\n// Prevents page to keep loading if movie cover image is not available\nexport function checkMovieImage(index) {\n    setTimeout(function() {\n        if (Elements.cardMovieCover[index].height < 1) {\n            Elements.cardMovieCover[index].src = 'dist/pics/movie-placeholder.svg';\n        }\n    }, 2000);\n}\n","import Model from './model'\nimport View from './view'\nimport Controller from './controller'\nimport {\n  parseMovies,\n  blockWhiteSpace\n} from './helpers'\n\n// Checks if user has an empty storage and sets it if neededC\nif (typeof(Storage) !== \"undefined\") {\n    if (localStorage.getItem(\"0\") === null) {\n        Model.setInitialDb();\n    }\n}\n// Informs the user if localStorage is not supported\nelse {\n    alert(\"Sorry! No Web Storage support available. Please consider switching to another browser.\");\n}\n\nlet movieArr = parseMovies();\nView.createMovieList(movieArr);\nController();\nblockWhiteSpace();\n","import MovieDb from './movies'\nimport {\n    getAverage,\n    parseMovies\n} from './helpers'\n\n\nexport default {\n\n    //Sets database first time app is run\n    setInitialDb() {\n        MovieDb.forEach((movie, index) => {\n            localStorage.setItem(JSON.stringify(index), JSON.stringify(movie));\n        });\n    },\n\n    addMovie(movie) {\n        let index = localStorage.length;\n        localStorage.setItem(JSON.stringify(index), JSON.stringify(movie));\n        return index;\n    },\n\n    editMovie(genres, rating, title) {\n        for (let key in localStorage) {\n            if (typeof localStorage[key] === 'string') {\n                let movie = JSON.parse(localStorage[key]);\n                if (movie.title === title) {\n                    movie.genres = genres;\n                    if (rating !== undefined) {\n                        movie.ratings.push(rating);\n                    }\n                    localStorage.setItem(JSON.stringify(key), JSON.stringify(movie));\n                }\n            }\n        }\n    },\n\n    getTopRatedMovie() {\n        let movieArr = parseMovies();\n        let multipleRatings = movieArr.filter(movie => movie.ratings.length > 1);\n        let topRated = multipleRatings.reduce(\n            (prevVal, currVal) =>\n            getAverage(prevVal.ratings) > getAverage(currVal.ratings) ?\n            prevVal :\n            currVal\n        );\n        return topRated;\n    },\n\n    getWorstRatedMovie() {\n        let movieArr = parseMovies();\n        let multipleRatings = movieArr.filter(movie => movie.ratings.length > 1);\n        let worstRated = multipleRatings.reduce(\n            (prevVal, currVal) =>\n            getAverage(prevVal.ratings) < getAverage(currVal.ratings) ?\n            prevVal :\n            currVal\n        );\n        return worstRated;\n    },\n\n    getMoviesThisYear(movieYear) {\n        let movieArr = parseMovies();\n        return movieArr.filter(\n            (movie, index) =>\n            movie.year === parseInt(movieYear)\n        );\n    },\n\n    getMoviesByGenre(movieGenre) {\n        let movieArr = parseMovies();\n        let genreArr = movieArr.filter(\n            (movie, index) =>\n            movie.genres.includes(movieGenre)\n        );\n        return genreArr;\n    },\n};\n","module.exports =\n[\n  {\n          title: \"Dawn of the Planet of the Apes\",\n          image: \"http://api.androidhive.info/json/movies/1.jpg\",\n          ratings: [8, 7, 6, 5, 10],\n          year: 2014,\n          genres: [\"Action\", \"Drama\", \"Sci-Fi\"]\n      },\n      {\n          title: \"District 9\",\n          image: \"http://api.androidhive.info/json/movies/2.jpg\",\n          ratings: [6, 5, 8, 8, 9],\n          year: 2009,\n          genres: [\"Action\", \"Sci-Fi\", \"Thriller\"]\n      },\n      {\n          title: \"Transformers: Age of Extinction\",\n          image: \"http://api.androidhive.info/json/movies/3.jpg\",\n          ratings: [5, 5, 3, 2, 7],\n          year: 2014,\n          genres: [\"Action\", \"Adventure\", \"Sci-Fi\"]\n      },\n      {\n          title: \"X-Men: Days of Future Past\",\n          image: \"http://api.androidhive.info/json/movies/4.jpg\",\n          ratings: [8, 9, 7, 7],\n          year: 2014,\n          genres: [\"Action\", \"Sci-Fi\", \"Thriller\"]\n      },\n      {\n          title: \"The Machinist\",\n          image: \"http://api.androidhive.info/json/movies/5.jpg\",\n          ratings: [7, 7, 8, 8, 6, 6, 7, 8],\n          year: 2004,\n          genres: [\"Drama\", \"Thriller\"]\n      },\n      {\n          title: \"The Last Samurai\",\n          image: \"http://api.androidhive.info/json/movies/6.jpg\",\n          ratings: [7, 7, 6, 5, 2, 9, 8],\n          year: 2003,\n          genres: [\"Action\", \"Drama\", \"History\"]\n      },\n      {\n          title: \"The Amazing Spider-Man 2\",\n          image: \"http://api.androidhive.info/json/movies/7.jpg\",\n          ratings: [7, 5, 3, 2, 8, 9],\n          year: 2014,\n          genres: [\"Action\", \"Adventure\", \"Fantasy\"]\n      },\n      {\n          title: \"Tangled\",\n          image: \"http://api.androidhive.info/json/movies/8.jpg\",\n          ratings: [7, 8, 3, 6, 8],\n          year: 2010,\n          genres: [\"Action\", \"Drama\", \"Sci-Fi\"]\n      },\n      {\n          title: \"Rush\",\n          image: \"http://api.androidhive.info/json/movies/9.jpg\",\n          ratings: [8, 8, 9, 7],\n          year: 2013,\n          genres: [\"Animation\", \"Comedy\", \"Family\"]\n      },\n      {\n          title: \"Drag Me to Hell\",\n          image: \"http://api.androidhive.info/json/movies/10.jpg\",\n          ratings: [6, 6, 7, 7],\n          year: 2009,\n          genres: [\"Horror\", \"Thriller\"]\n      },\n      {\n          title: \"Despicable Me 2\",\n          image: \"http://api.androidhive.info/json/movies/11.jpg\",\n          ratings: [9, 9, 3, 7, 8],\n          year: 2013,\n          genres: [\"Animation\", \"Comedy\", \"Family\"]\n      },\n      {\n          title: \"Kill Bill: Vol. 1\",\n          image: \"http://api.androidhive.info/json/movies/12.jpg\",\n          ratings: [4, 8, 8, 9, 3],\n          year: 2003,\n          genres: [\"Action\", \"Crime\"]\n      },\n      {\n          title: \"A Bug's Life\",\n          image: \"http://api.androidhive.info/json/movies/13.jpg\",\n          ratings: [7, 7, 7, 5, 5],\n          year: 1998,\n          genres: [\"Animation\", \"Adventure\", \"Comedy\"]\n      },\n      {\n          title: \"Life of Brian\",\n          image: \"http://api.androidhive.info/json/movies/14.jpg\",\n          ratings: [9, 9, 4, 5, 8],\n          year: 1972,\n          genres: [\"Comedy\"]\n      },\n      {\n          title: \"How to Train Your Dragon\",\n          image: \"http://api.androidhive.info/json/movies/15.jpg\",\n          ratings: [6, 9, 8, 7, 5, 8],\n          year: 2010,\n          genres: [\"Animation\", \"Adventure\", \"Family\"]\n      }\n];\n","//jshint esversion:6\nimport Elements from './elements'\nimport {\n    getAverage,\n    bindEvent,\n    parseMovies,\n    checkMovieImage\n} from './helpers'\n\n\nexport default {\n\n    createMovieList(movieArr) {\n        Elements.cardContainer.innerHTML = '';\n        for (let movie of movieArr) {\n            Elements.cardContainer.innerHTML +=\n                `<div class=\"column col-3 movie-card-container\">\n       <div class=\"card\">\n          <div class=\"card-image\">\n            <img class=\"img-responsive card-movie-cover\">\n          </div>\n          <div class=\"card-header\">\n            <h4 class=\"card-title card-movie-title\"></h4>\n            <h6 class=\"card-meta card-movie-year\"></h6>\n          </div>\n          <div class=\"card-body card-movie-genre\"></div>\n          <div class=\"card-footer\">\n            <div class=\"bar\">\n              <div class=\"bar-item card-movie-rating\"></div>\n            </div>\n          </div>\n      </div>\n    </div>`;\n        }\n\n        // Sets values for each movie inside card elements\n        for (let i = 0; i < movieArr.length; i++) {\n            Elements.cardMovieCover[i].src = movieArr[i].image;\n            checkMovieImage(i);\n            Elements.cardMovieTitle[i].innerHTML = movieArr[i].title;\n            Elements.cardMovieYear[i].innerHTML = movieArr[i].year;\n            Elements.cardMovieRating[i].style.width = `${getAverage(movieArr[i].ratings)* 10}%`;\n            Elements.cardMovieRating[i].innerHTML = `${getAverage(movieArr[i].ratings)}`;\n            for (let genre of movieArr[i].genres) {\n                Elements.cardMovieGenre[i].innerHTML += `<label class=\"chip genre-chip\">${genre}</label>`;\n            }\n        }\n    },\n\n    // Opens sidebar for selected movie\n    openMovieView(index) {\n        Elements.moviePreview.style.width = \"600px\";\n        Elements.modalTitle.innerHTML = Elements.cardMovieTitle[index].innerHTML;\n        Elements.modalYear.innerHTML = Elements.cardMovieYear[index].innerHTML;\n        Elements.modalPoster.src = Elements.cardMovieCover[index].src;\n        Elements.modalGenres.innerHTML = Elements.cardMovieGenre[index].innerHTML;\n        Elements.modalRating.innerHTML = Elements.cardMovieRating[index].innerHTML;\n        Elements.ratingCirle.className = `c100 p${parseInt(Elements.modalRating.innerHTML) * 10} centered`;\n    },\n\n    // Closes sidebar for current movie\n    closeMovieView() {\n        Elements.moviePreview.style.width = \"0\";\n    },\n\n    // Displays edit modal for current movie\n    editMovieModal() {\n        let movieGenres = Array.from(Elements.modalGenres.childNodes);\n        let genreChips = Array.from(Elements.genreEditChip);\n        Elements.editModal.classList.add('active');\n        Elements.newRatingSpan.innerHTML = Elements.modalRating.innerHTML;\n        Elements.newRatingCircle.classList = Elements.ratingCirle.classList;\n        Elements.ratingSlider.value = 0;\n\n        // Clears any active states if user has selected genres without submiting them\n        genreChips.forEach(chip => {\n            if (chip.classList.contains('active'))\n                chip.classList.remove('active');\n        });\n\n        // Adds active state to current movie's genres\n        movieGenres.forEach(genre => {\n            genreChips.map(chip => {\n                if (chip.innerHTML === genre.innerHTML)\n                    chip.classList.add('active');\n            });\n        });\n    },\n\n    // Display new movie genres and rating after editing\n    changeMovieHTML(index) {\n        let movieGenres = Array.from(Elements.modalGenres.childNodes);\n        let genreChips = Array.from(Elements.genreEditChip);\n        let movieArr = parseMovies();\n        Elements.editModal.classList.remove('active');\n\n        // Update genre for both card and sidebar view\n        Elements.modalGenres.innerHTML = '';\n        genreChips.forEach(chip => {\n            if (chip.classList.contains('active')) {\n                Elements.modalGenres.innerHTML += `<label class=\"chip genre-chip\">${chip.innerHTML}</label>`;\n            }\n        });\n\n        for (let i = 0; i < Elements.cardMovieTitle.length; i++) {\n            if (Elements.cardMovieTitle[i].innerHTML === Elements.modalTitle.innerHTML) {\n                Elements.cardMovieGenre[i].innerHTML = Elements.modalGenres.innerHTML;\n            }\n        }\n\n        // Update rating for both card and sidebar view\n        Elements.cardMovieRating[index].style.width = `${getAverage(movieArr[index].ratings)* 10}%`;\n        Elements.cardMovieRating[index].innerHTML = `${getAverage(movieArr[index].ratings)}`;\n        Elements.modalRating.innerHTML = Elements.cardMovieRating[index].innerHTML;\n        Elements.ratingCirle.className = `c100 p${parseInt(Elements.modalRating.innerHTML) * 10} centered`;\n    },\n\n    // Close current active modal\n    closeActiveModal(i) {\n        Elements.modals[i].classList.remove('active');\n    },\n\n    // Display function for top rated and worst rated\n    displayMovie(movie) {\n        let titleCardArr = Array.from(Elements.cardMovieTitle);\n        titleCardArr.filter((title, i) =>\n            movie.title === title.innerHTML ?\n            Elements.movieCardContainer[i].style.display = \"block\" :\n            Elements.movieCardContainer[i].style.display = \"none\"\n        );\n    },\n    // Display function used to display by genre or year\n    displayMovies(arr) {\n        let titleCardArr = Array.from(Elements.cardMovieTitle);\n        let movieTitleArr = arr.map(movie =>\n            movie.title\n        );\n        titleCardArr.filter((title, i) =>\n            movieTitleArr.includes(title.innerHTML) ?\n            Elements.movieCardContainer[i].style.display = \"block\" :\n            Elements.movieCardContainer[i].style.display = \"none\"\n        );\n    },\n\n    // Display movie modal for adding movie\n    displayNewMovieModal() {\n        Elements.newMovieModal.classList.add('active');\n        Elements.movieTitle.focus();\n        Elements.movieTitle.select();\n    },\n\n    // Visually changes rating circle as slider value changes\n    displayRating() {\n        Elements.newRatingSpan.innerHTML = this.value;\n        Elements.newRatingCircle.className = `c100 p${this.value * 10} centered`;\n    },\n    // Shows input field for year search\n    displayYearInput() {\n        Elements.movieYearInput.classList.remove('hide');\n        Elements.movieYearInput.focus();\n        Elements.movieYearInput.select();\n        bindEvent(document.body, e => {\n            if (e.target !== this) {\n                Elements.movieYearInput.classList.add('hide');\n            }\n        });\n    },\n\n    // Display all movie cards\n    displayAllMovies() {\n        let movieCardArr = Array.from(Elements.movieCardContainer);\n        return movieCardArr.forEach(card =>\n            card.style.display = \"block\"\n        );\n    },\n    // Renders HTML for new movie\n    renderNewMovie(newMovie, i) {\n        const movieCard = document.createElement('div');\n        movieCard.setAttribute('class', 'column col-3 movie-card-container');\n        movieCard.innerHTML = `<div class=\"card\">\n          <div class=\"card-image\">\n            <img class=\"img-responsive card-movie-cover\">\n          </div>\n          <div class=\"card-header\">\n            <h4 class=\"card-title card-movie-title\"></h4>\n            <h6 class=\"card-meta card-movie-year\"></h6>\n          </div>\n          <div class=\"card-body card-movie-genre\"></div>\n          <div class=\"card-footer\">\n            <div class=\"bar\">\n              <div class=\"bar-item card-movie-rating\"></div>\n            </div>\n          </div>\n      </div>\n    </div>`;\n\n        Elements.cardContainer.appendChild(movieCard);\n\n        Elements.cardMovieCover[i].src = newMovie.image || 'dist/pics/movie-placeholder.svg';\n        Elements.cardMovieTitle[i].innerHTML = newMovie.title;\n        Elements.cardMovieYear[i].innerHTML = newMovie.year;\n        Elements.cardMovieRating[i].style.width = `${getAverage(newMovie.ratings)* 10}%`;\n        Elements.cardMovieRating[i].innerHTML = `${getAverage(newMovie.ratings)}`;\n        for (let genre of newMovie.genres) {\n            Elements.cardMovieGenre[i].innerHTML += `<label class=\"chip\">${genre}</label>`;\n        }\n\n        Elements.newMovieModal.classList.remove('active');\n    },\n\n    // Previews genres for user when editing movie\n    previewGenres(genre) {\n        if (!genre.classList.contains('active')) {\n            genre.classList.add('active');\n        } else {\n            genre.classList.remove('active');\n        }\n    }\n\n};\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29udHJvbGxlci5qcyIsInNyYy9qcy9lbGVtZW50cy5qcyIsInNyYy9qcy9oZWxwZXJzLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvbW9kZWwuanMiLCJzcmMvanMvbW92aWVzLmpzIiwic3JjL2pzL3ZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7a0JDV2UsWUFBVzs7QUFFdEI7QUFDQSxRQUFJLHNCQUFzQixNQUFNLElBQU4sQ0FBVyxtQkFBUyxnQkFBcEIsQ0FBMUI7QUFDQSx3QkFBb0IsT0FBcEIsQ0FBNEIsVUFBQyxNQUFELEVBQVMsQ0FBVCxFQUFlO0FBQ3ZDLGdDQUFVLE1BQVYsRUFBa0IsWUFBVztBQUN6QiwyQkFBSyxnQkFBTCxDQUFzQixDQUF0QjtBQUNILFNBRkQ7QUFHSCxLQUpEOztBQU1BO0FBQ0EsNEJBQVUsbUJBQVMsY0FBbkIsRUFBbUMsZUFBSyxvQkFBeEM7O0FBRUE7QUFDQSw0QkFBVSxtQkFBUyxZQUFuQixFQUFpQyxVQUFTLENBQVQsRUFBWTtBQUN6QyxVQUFFLGNBQUY7QUFDQSxZQUFJLFdBQVcsbUJBQVUsbUJBQVMsVUFBVCxDQUFvQixLQUE5QixFQUFxQyxTQUFTLG1CQUFTLFNBQVQsQ0FBbUIsS0FBNUIsQ0FBckMsRUFBeUUsbUJBQVMsV0FBVCxDQUFxQixLQUFyQixDQUEyQixLQUEzQixDQUFpQyxHQUFqQyxDQUF6RSxFQUFnSCxtQkFBUyxVQUFULENBQW9CLEtBQXBJLENBQWY7QUFDQSxZQUFJLFFBQVEsZ0JBQU0sUUFBTixDQUFlLFFBQWYsQ0FBWjtBQUNBLHVCQUFLLGNBQUwsQ0FBb0IsUUFBcEIsRUFBOEIsS0FBOUI7QUFDQSxnQ0FBVSxtQkFBUyxrQkFBVCxDQUE0QixLQUE1QixDQUFWLEVBQThDLFlBQVc7QUFDckQsMkJBQUssYUFBTCxDQUFtQixLQUFuQjtBQUNILFNBRkQ7QUFHQSx1QkFB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R0FBaEIsQ0FBb0IsUUFBcEI7QUFDSCxTQUZELE1BRU87QUFDSCxrQkFBTSxTQUFOLENBQWdCLE1BQWhCLENBQXVCLFFBQXZCO0FBQ0g7QUFDSjtBQS9NVSxDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vanNoaW50IGVzdmVyc2lvbjogNlxuaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwnXG5pbXBvcnQgRWxlbWVudHMgZnJvbSAnLi9lbGVtZW50cydcbmltcG9ydCBWaWV3IGZyb20gJy4vdmlldydcbmltcG9ydCB7XG4gICAgTW92aWUsXG4gICAgYmluZEV2ZW50LFxuICAgIHBhcnNlTW92aWVzLFxuICAgIGdldE1vdmllSW5kZXhcbn0gZnJvbSAnLi9oZWxwZXJzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcblxuICAgIC8vIEJpbmRzIGNsb3NlIGJ1dHRvbiBvbiBldmVyeSBtb2RhbCB0byBjbG9zZSB0aGUgcmVzcGVjdGl2ZSBtb2RhbFxuICAgIGxldCBtb2RhbENsb3NlQnV0dG9uQXJyID0gQXJyYXkuZnJvbShFbGVtZW50cy5tb2RhbENsb3NlQnV0dG9uKTtcbiAgICBtb2RhbENsb3NlQnV0dG9uQXJyLmZvckVhY2goKGJ1dHRvbiwgaSkgPT4ge1xuICAgICAgICBiaW5kRXZlbnQoYnV0dG9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFZpZXcuY2xvc2VBY3RpdmVNb2RhbChpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBCaW5kcyBidXR0b24gdG8gb3BlbiBtb2RhbCBmb3IgYWRkaW5nIG5ldyBtb3ZpZVxuICAgIGJpbmRFdmVudChFbGVtZW50cy5uZXdNb3ZpZUJ1dHRvbiwgVmlldy5kaXNwbGF5TmV3TW92aWVNb2RhbCk7XG5cbiAgICAvLyBIYW5kbGluZyBvZiBuZXcgbW92aWVcbiAgICBiaW5kRXZlbnQoRWxlbWVudHMubW92aWVDcmVhdG9yLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IG5ld01vdmllID0gbmV3IE1vdmllKEVsZW1lbnRzLm1vdmllVGl0bGUudmFsdWUsIHBhcnNlSW50KEVsZW1lbnRzLm1vdmllWWVhci52YWx1ZSksIEVsZW1lbnRzLm1vdmllR2VucmVzLnZhbHVlLnNwbGl0KCcsJyksIEVsZW1lbnRzLm1vdmllQ292ZXIudmFsdWUpO1xuICAgICAgICBsZXQgaW5kZXggPSBNb2RlbC5hZGRNb3ZpZShuZXdNb3ZpZSk7XG4gICAgICAgIFZpZXcucmVuZGVyTmV3TW92aWUobmV3TW92aWUsIGluZGV4KTtcbiAgICAgICAgYmluZEV2ZW50KEVsZW1lbnRzLm1vdmllQ2FyZENvbnRhaW5lcltpbmRleF0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVmlldy5vcGVuTW92aWVWaWV3KGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFZpZXcuZGlzcGxheUFsbE1vdmllcygpO1xuICAgIH0sICdzdWJtaXQnKTtcblxuICAgIC8vIEJpbmRpbmcgdG9wIHJhdGVkXG4gICAgYmluZEV2ZW50KEVsZW1lbnRzLnRvcFJhdGVkTGluaywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBtb3ZpZSA9IE1vZGVsLmdldFRvcFJhdGVkTW92aWUoKTtcbiAgICAgICAgVmlldy5kaXNwbGF5TW92aWUobW92aWUpO1xuICAgIH0pO1xuXG4gICAgLy8gQmluZCB3b3JzdCByYXRlZFxuICAgIGJpbmRFdmVudChFbGVtZW50cy53b3JzdFJhdGVkTGluaywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBtb3ZpZSA9IE1vZGVsLmdldFdvcnN0UmF0ZWRNb3ZpZSgpO1xuICAgICAgICBWaWV3LmRpc3BsYXlNb3ZpZShtb3ZpZSk7XG4gICAgfSk7XG5cbiAgICAvLyBDYWxsIHZpZXcgZnVuY3Rpb24gdG8gZGlzcGxheSBhbGwgbW92aWVzXG4gICAgYmluZEV2ZW50KEVsZW1lbnRzLmFsbE1vdmllc0xpbmssIFZpZXcuZGlzcGxheUFsbE1vdmllcyk7XG5cbiAgICAvLyBDcmVhdGUgY2xpY2sgZnVuY3Rpb25zIGZvciBhbGwgbWVudSBnZW5yZSBsaW5rc1xuICAgIGxldCBnZW5yZUxpbmtBcnIgPSBBcnJheS5mcm9tKEVsZW1lbnRzLmdlbnJlTGlua05hbWUpO1xuICAgIGdlbnJlTGlua0Fyci5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBiaW5kRXZlbnQobGluaywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgZ2VucmUgPSB0aGlzLmlubmVySFRNTC50cmltKCk7XG4gICAgICAgICAgICBsZXQgbW92aWVBcnIgPSBNb2RlbC5nZXRNb3ZpZXNCeUdlbnJlKGdlbnJlKTtcbiAgICAgICAgICAgIFZpZXcuZGlzcGxheU1vdmllcyhtb3ZpZUFycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRpbmcgY2xpY2sgZnVuY3Rpb24gZm9yIHllYXIgZmlsdGVyIG9uIG1lbnVcbiAgICBiaW5kRXZlbnQoRWxlbWVudHMueWVhclNvcnQsIFZpZXcuZGlzcGxheVllYXJJbnB1dCk7XG4gICAgYmluZEV2ZW50KEVsZW1lbnRzLm1vdmllWWVhcklucHV0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHllYXIgPSB0aGlzLnZhbHVlO1xuICAgICAgICBsZXQgbW92aWVBcnIgPSBNb2RlbC5nZXRNb3ZpZXNUaGlzWWVhcih5ZWFyKTtcbiAgICAgICAgVmlldy5kaXNwbGF5TW92aWVzKG1vdmllQXJyKTtcbiAgICB9LCAna2V5dXAnKTtcblxuICAgIC8vIENsb3NlIG1vdmllIHByZXZpZXcgd2hlbiBjbGlja2luZyBvbiBidXR0b25cbiAgICBiaW5kRXZlbnQoRWxlbWVudHMuY2xvc2VNb3ZpZUJ1dHRvbiwgVmlldy5jbG9zZU1vdmllVmlldyk7XG5cbiAgICAvLyBDbGljayBmdW5jdGlvbiB0byBvcGVuIG1vdmllIHNpZGViYXIgdmlldyBmb3IgYWxsIGN1cnJlbnQgbW92aWVzIGluIGRiXG4gICAgbGV0IG1vdmllQ2FyZEFyciA9IEFycmF5LmZyb20oRWxlbWVudHMubW92aWVDYXJkQ29udGFpbmVyKTtcbiAgICBtb3ZpZUNhcmRBcnIuZm9yRWFjaCgoY2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgYmluZEV2ZW50KGNhcmQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVmlldy5vcGVuTW92aWVWaWV3KGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBPcGVuIGVkaXQgbW92aWUgdmlld1xuICAgIGJpbmRFdmVudChFbGVtZW50cy5lZGl0QnV0dG9uLCBWaWV3LmVkaXRNb3ZpZU1vZGFsKTtcblxuICAgIC8vIEJpbmQgcmF0aW5nIHNsaWRlciBjaGFuZ2VzIHdoZW4gZWRpdGluZyBtb3ZpZVxuICAgIGJpbmRFdmVudChFbGVtZW50cy5yYXRpbmdTbGlkZXIsIFZpZXcuZGlzcGxheVJhdGluZywgJ2lucHV0Jyk7XG5cbiAgICAvLyBQcmV2aWV3IGFjdGl2ZSBnZW5yZXMgd2hlbiBlZGl0aW5nIG1vdmllXG4gICAgbGV0IGdlbnJlQ2hpcHMgPSBBcnJheS5mcm9tKEVsZW1lbnRzLmdlbnJlRWRpdENoaXApO1xuICAgIGdlbnJlQ2hpcHMuZm9yRWFjaChjaGlwID0+IHtcbiAgICAgICAgYmluZEV2ZW50KGNoaXAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVmlldy5wcmV2aWV3R2VucmVzKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFN1Ym1pdCBjaGFuZ2VzIHRvIGVkaXRlZCBtb3ZpZVxuICAgIGJpbmRFdmVudChFbGVtZW50cy5zdWJtaXRFZGl0QnV0dG9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGdlbnJlcyA9IFtdO1xuICAgICAgICBsZXQgcmF0aW5nO1xuICAgICAgICBsZXQgdGl0bGUgPSBFbGVtZW50cy5tb2RhbFRpdGxlLmlubmVySFRNTDtcbiAgICAgICAgZm9yIChsZXQgYWN0aXZlR2VucmVzIG9mIEVsZW1lbnRzLmdlbnJlRWRpdENoaXApIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVHZW5yZXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgIGdlbnJlcy5wdXNoKGFjdGl2ZUdlbnJlcy5pbm5lckhUTUwudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIUVsZW1lbnRzLm5ld1JhdGluZ0NpcmNsZS5pbm5lckhUTUwuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgICAgICAgcmF0aW5nID0gcGFyc2VJbnQoRWxlbWVudHMucmF0aW5nU2xpZGVyLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1vZGVsLmVkaXRNb3ZpZShnZW5yZXMsIHJhdGluZywgdGl0bGUpO1xuICAgICAgICBsZXQgbW92aWVJbmRleCA9IGdldE1vdmllSW5kZXgodGl0bGUpO1xuICAgICAgICBWaWV3LmNoYW5nZU1vdmllSFRNTChtb3ZpZUluZGV4KTtcbiAgICB9KTtcblxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWxsTW92aWVzTGluayA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGwtbW92aWVzLWxpbmsnKSxcbiAgICBjYXJkQm9keSA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NhcmQtYm9keScpLFxuICAgIGNhcmRDb250YWluZXIgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1jb250YWluZXInKSxcbiAgICBjYXJkTW92aWVDb3ZlciA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NhcmQtbW92aWUtY292ZXInKSxcbiAgICBjYXJkTW92aWVHZW5yZSA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NhcmQtbW92aWUtZ2VucmUnKSxcbiAgICBjYXJkTW92aWVSYXRpbmcgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYXJkLW1vdmllLXJhdGluZycpLFxuICAgIGNhcmRNb3ZpZVRpdGxlIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FyZC1tb3ZpZS10aXRsZScpLFxuICAgIGNhcmRNb3ZpZVllYXIgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYXJkLW1vdmllLXllYXInKSxcbiAgICBjbG9zZU5ld01vdmllIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW5ldy1tb3ZpZScpLFxuICAgIGNsb3NlTW92aWVCdXR0b24gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW92aWUtYnV0dG9uJyksXG4gICAgZWRpdEJ1dHRvbiA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ1dHRvbicpLFxuICAgIGVkaXRNb2RhbCA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LW1vZGFsJyksXG4gICAgZ2VucmVDaGlwIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2VucmUtY2hpcCcpLFxuICAgIGdlbnJlQ29udGFpbmVyIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlbnJlLWNvbnRhaW5lcicpLFxuICAgIGdlbnJlRWRpdENoaXAgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnZW5yZS1lZGl0LWNoaXAnKSxcbiAgICAvLyBnZW5yZUxhYmVsQ291bnQgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnZW5yZS1sYWJlbC1jb3VudCcpLFxuICAgIGdlbnJlTGlua05hbWUgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnZW5yZS1saW5rLW5hbWUnKSxcbiAgICAvLyBnZW5yZVN1Y2Nlc3MgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VucmUtc3VjY2VzcycpLFxuICAgIGlucHV0cyA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpLFxuICAgIGxpc3RHZW5yZSA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpc3QtZ2VucmUnKSxcbiAgICBsaXN0UmF0aW5nIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGlzdC1yYXRpbmcnKSxcbiAgICBtb2RhbENsb3NlQnV0dG9uIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtY2xvc2UtYnV0dG9uJyksXG4gICAgbW9kYWxHZW5yZXMgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtbW92aWUtZ2VucmVzJyksXG4gICAgbW9kYWxPcGVuZXIgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC1vcGVuZXInKSxcbiAgICBtb2RhbFBvc3RlciA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1tb3ZpZS1wb3N0ZXInKSxcbiAgICBtb2RhbFJhdGluZyA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1tb3ZpZS1yYXRpbmcnKSxcbiAgICBtb2RhbHMgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbCcpLFxuICAgIG1vZGFsVGl0bGUgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtbW92aWUtdGl0bGUnKSxcbiAgICBtb2RhbFllYXIgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtbW92aWUteWVhcicpLFxuICAgIG1vdmllQ2FyZHMgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYXJkJyksXG4gICAgbW92aWVDYXJkQ29udGFpbmVyIDogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW92aWUtY2FyZC1jb250YWluZXInKSxcbiAgICBtb3ZpZUNvdmVyIDogZG9jdW1lbnQuZm9ybXMubW92aWVDcmVhdG9yLmNvdmVyLFxuICAgIG1vdmllQ3JlYXRvciA6IGRvY3VtZW50LmZvcm1zLm1vdmllQ3JlYXRvcixcbiAgICBtb3ZpZUdlbnJlSW5wdXQgOiBkb2N1bWVudC5mb3Jtcy5tb3ZpZUdlbnJlSW5wdXQsXG4gICAgbW92aWVHZW5yZXMgOiBkb2N1bWVudC5mb3Jtcy5tb3ZpZUNyZWF0b3IuZ2VucmVzLFxuICAgIG1vdmllTW9kYWwgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92aWUtbW9kYWwnKSxcbiAgICBtb3ZpZVByZXZpZXcgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlTaWRlbmF2JyksXG4gICAgbW92aWVSZXN1bHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZpZS1yZXN1bHQnKSxcbiAgICBtb3ZpZVRpdGxlIDogZG9jdW1lbnQuZm9ybXMubW92aWVDcmVhdG9yLnRpdGxlLFxuICAgIG1vdmllWWVhciA6IGRvY3VtZW50LmZvcm1zLm1vdmllQ3JlYXRvci55ZWFyLFxuICAgIG1vdmllWWVhcklucHV0IDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmllLXllYXItaW5wdXQnKSxcbiAgICBuZXdNb3ZpZUJ1dHRvbiA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctbW92aWUtYnV0dG9uJyksXG4gICAgbmV3TW92aWVNb2RhbCA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctbW92aWUtbW9kYWwnKSxcbiAgICBuZXdSYXRpbmdDaXJjbGUgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXJhdGluZy1jaXJjbGUnKSxcbiAgICBuZXdSYXRpbmdTcGFuIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1yYXRpbmctc3BhbicpLFxuICAgIHJhdGluZ0J1dHRvbiA6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JhdGluZy1idXR0b24nKSxcbiAgICByYXRpbmdDaXJsZSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYXRpbmctY2lyY2xlJyksXG4gICAgcmF0aW5nTW9kYWwgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmF0aW5nLW1vZGFsJyksXG4gICAgcmF0aW5nU2xpZGVyIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhdGluZy1zbGlkZXInKSxcbiAgICByYXRpbmdTb3J0IDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhdGluZy1zb3J0JyksXG4gICAgc3VibWl0RWRpdEJ1dHRvbiA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtZWRpdC1idXR0b24nKSxcbiAgICB0aXRsZVNvcnQgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUtc29ydCcpLFxuICAgIHRvcFJhdGVkTGluayA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3AtcmF0ZWQtbGluaycpLFxuICAgIHdvcnN0UmF0ZWRMaW5rIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcnN0LXJhdGVkLWxpbmsnKSxcbiAgICB5ZWFyU29ydCA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5ZWFyLXNvcnQnKVxufTtcbiIsImltcG9ydCBFbGVtZW50cyBmcm9tICcuL2VsZW1lbnRzJ1xuXG5jb25zdCBTUEFDRV9CQVIgPSAzMjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF2ZXJhZ2UoYXJyKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgaWYgKGFyci5sZW5ndGggIT09IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN1bSArPSBhcnJbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChzdW0gLyBhcnIubGVuZ3RoKS50b0ZpeGVkKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnTi9BJztcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3ZpZSh0aXRsZSwgeWVhciwgZ2VucmVzLCBpbWFnZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLnllYXIgPSB5ZWFyO1xuICAgIHRoaXMuZ2VucmVzID0gZ2VucmVzO1xuICAgIHRoaXMucmF0aW5ncyA9IFtdO1xuICAgIHRoaXMuaW1hZ2UgPSBpbWFnZSB8fCAnZGlzdC9waWNzL21vdmllLXBsYWNlaG9sZGVyLnN2Zyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kRXZlbnQodGFyZ2V0LCBjYWxsYmFjaywgdHlwZSA9ICdjbGljaycsIGNhcHR1cmUgPSBmYWxzZSkge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCAhIWNhcHR1cmUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNb3ZpZXMoKSB7XG4gICAgbGV0IG1vdmllQXJyID0gW107XG4gICAgZm9yIChsZXQga2V5IGluIGxvY2FsU3RvcmFnZSkge1xuXG4gICAgICAgIC8vIFByZXZlbnRzIG90aGVyIHZhbHVlcyBpbiBGaXJlZm94IHRvIGJlIHB1c2hlZFxuICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZVtrZXldID09PSAnc3RyaW5nJylcblxuICAgICAgICAgICAgbW92aWVBcnIucHVzaChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtrZXldKSk7XG4gICAgfVxuICAgIHJldHVybiBtb3ZpZUFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdmllSW5kZXgodGl0bGUpIHtcbiAgICBsZXQgbW92aWVBcnIgPSBwYXJzZU1vdmllcygpO1xuICAgIGxldCBtb3ZpZSA9IG1vdmllQXJyLnJlZHVjZSgoYywgcCkgPT5cbiAgICAgICAgYy50aXRsZSA9PT0gdGl0bGUgPyBjIDogcFxuICAgICk7XG4gICAgbGV0IG1vdmllSW5kZXggPSBtb3ZpZUFyci5pbmRleE9mKG1vdmllKTtcbiAgICByZXR1cm4gbW92aWVJbmRleDtcbn1cblxuLy9QcmV2ZW50cyBibGFuayBzcGFjZSBhcyBmaXJzdCBjaGFyYWN0ZXIgaW4gYWxsIGlucHV0IGZpZWxkc1xuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrV2hpdGVTcGFjZSgpIHtcbiAgICBmb3IgKGxldCBpbnB1dCBvZiBFbGVtZW50cy5pbnB1dHMpIHtcbiAgICAgICAgYmluZEV2ZW50KGlucHV0LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS53aGljaCA9PT0gU1BBQ0VfQkFSICYmIGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAna2V5ZG93bicpO1xuICAgIH1cbn1cblxuLy8gUHJldmVudHMgcGFnZSB0byBrZWVwIGxvYWRpbmcgaWYgbW92aWUgY292ZXIgaW1hZ2UgaXMgbm90IGF2YWlsYWJsZVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTW92aWVJbWFnZShpbmRleCkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChFbGVtZW50cy5jYXJkTW92aWVDb3ZlcltpbmRleF0uaGVpZ2h0IDwgMSkge1xuICAgICAgICAgICAgRWxlbWVudHMuY2FyZE1vdmllQ292ZXJbaW5kZXhdLnNyYyA9ICdkaXN0L3BpY3MvbW92aWUtcGxhY2Vob2xkZXIuc3ZnJztcbiAgICAgICAgfVxuICAgIH0sIDIwMDApO1xufVxuIiwiaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwnXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInXG5pbXBvcnQge1xuICBwYXJzZU1vdmllcyxcbiAgYmxvY2tXaGl0ZVNwYWNlXG59IGZyb20gJy4vaGVscGVycydcblxuLy8gQ2hlY2tzIGlmIHVzZXIgaGFzIGFuIGVtcHR5IHN0b3JhZ2UgYW5kIHNldHMgaXQgaWYgbmVlZGVkQ1xuaWYgKHR5cGVvZihTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIjBcIikgPT09IG51bGwpIHtcbiAgICAgICAgTW9kZWwuc2V0SW5pdGlhbERiKCk7XG4gICAgfVxufVxuLy8gSW5mb3JtcyB0aGUgdXNlciBpZiBsb2NhbFN0b3JhZ2UgaXMgbm90IHN1cHBvcnRlZFxuZWxzZSB7XG4gICAgYWxlcnQoXCJTb3JyeSEgTm8gV2ViIFN0b3JhZ2Ugc3VwcG9ydCBhdmFpbGFibGUuIFBsZWFzZSBjb25zaWRlciBzd2l0Y2hpbmcgdG8gYW5vdGhlciBicm93c2VyLlwiKTtcbn1cblxubGV0IG1vdmllQXJyID0gcGFyc2VNb3ZpZXMoKTtcblZpZXcuY3JlYXRlTW92aWVMaXN0KG1vdmllQXJyKTtcbkNvbnRyb2xsZXIoKTtcbmJsb2NrV2hpdGVTcGFjZSgpO1xuIiwiaW1wb3J0IE1vdmllRGIgZnJvbSAnLi9tb3ZpZXMnXG5pbXBvcnQge1xuICAgIGdldEF2ZXJhZ2UsXG4gICAgcGFyc2VNb3ZpZXNcbn0gZnJvbSAnLi9oZWxwZXJzJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIC8vU2V0cyBkYXRhYmFzZSBmaXJzdCB0aW1lIGFwcCBpcyBydW5cbiAgICBzZXRJbml0aWFsRGIoKSB7XG4gICAgICAgIE1vdmllRGIuZm9yRWFjaCgobW92aWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShKU09OLnN0cmluZ2lmeShpbmRleCksIEpTT04uc3RyaW5naWZ5KG1vdmllKSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhZGRNb3ZpZShtb3ZpZSkge1xuICAgICAgICBsZXQgaW5kZXggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShKU09OLnN0cmluZ2lmeShpbmRleCksIEpTT04uc3RyaW5naWZ5KG1vdmllKSk7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgZWRpdE1vdmllKGdlbnJlcywgcmF0aW5nLCB0aXRsZSkge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZVtrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGxldCBtb3ZpZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2tleV0pO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZpZS50aXRsZSA9PT0gdGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92aWUuZ2VucmVzID0gZ2VucmVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF0aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmllLnJhdGluZ3MucHVzaChyYXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEpTT04uc3RyaW5naWZ5KGtleSksIEpTT04uc3RyaW5naWZ5KG1vdmllKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFRvcFJhdGVkTW92aWUoKSB7XG4gICAgICAgIGxldCBtb3ZpZUFyciA9IHBhcnNlTW92aWVzKCk7XG4gICAgICAgIGxldCBtdWx0aXBsZVJhdGluZ3MgPSBtb3ZpZUFyci5maWx0ZXIobW92aWUgPT4gbW92aWUucmF0aW5ncy5sZW5ndGggPiAxKTtcbiAgICAgICAgbGV0IHRvcFJhdGVkID0gbXVsdGlwbGVSYXRpbmdzLnJlZHVjZShcbiAgICAgICAgICAgIChwcmV2VmFsLCBjdXJyVmFsKSA9PlxuICAgICAgICAgICAgZ2V0QXZlcmFnZShwcmV2VmFsLnJhdGluZ3MpID4gZ2V0QXZlcmFnZShjdXJyVmFsLnJhdGluZ3MpID9cbiAgICAgICAgICAgIHByZXZWYWwgOlxuICAgICAgICAgICAgY3VyclZhbFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdG9wUmF0ZWQ7XG4gICAgfSxcblxuICAgIGdldFdvcnN0UmF0ZWRNb3ZpZSgpIHtcbiAgICAgICAgbGV0IG1vdmllQXJyID0gcGFyc2VNb3ZpZXMoKTtcbiAgICAgICAgbGV0IG11bHRpcGxlUmF0aW5ncyA9IG1vdmllQXJyLmZpbHRlcihtb3ZpZSA9PiBtb3ZpZS5yYXRpbmdzLmxlbmd0aCA+IDEpO1xuICAgICAgICBsZXQgd29yc3RSYXRlZCA9IG11bHRpcGxlUmF0aW5ncy5yZWR1Y2UoXG4gICAgICAgICAgICAocHJldlZhbCwgY3VyclZhbCkgPT5cbiAgICAgICAgICAgIGdldEF2ZXJhZ2UocHJldlZhbC5yYXRpbmdzKSA8IGdldEF2ZXJhZ2UoY3VyclZhbC5yYXRpbmdzKSA/XG4gICAgICAgICAgICBwcmV2VmFsIDpcbiAgICAgICAgICAgIGN1cnJWYWxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHdvcnN0UmF0ZWQ7XG4gICAgfSxcblxuICAgIGdldE1vdmllc1RoaXNZZWFyKG1vdmllWWVhcikge1xuICAgICAgICBsZXQgbW92aWVBcnIgPSBwYXJzZU1vdmllcygpO1xuICAgICAgICByZXR1cm4gbW92aWVBcnIuZmlsdGVyKFxuICAgICAgICAgICAgKG1vdmllLCBpbmRleCkgPT5cbiAgICAgICAgICAgIG1vdmllLnllYXIgPT09IHBhcnNlSW50KG1vdmllWWVhcilcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgZ2V0TW92aWVzQnlHZW5yZShtb3ZpZUdlbnJlKSB7XG4gICAgICAgIGxldCBtb3ZpZUFyciA9IHBhcnNlTW92aWVzKCk7XG4gICAgICAgIGxldCBnZW5yZUFyciA9IG1vdmllQXJyLmZpbHRlcihcbiAgICAgICAgICAgIChtb3ZpZSwgaW5kZXgpID0+XG4gICAgICAgICAgICBtb3ZpZS5nZW5yZXMuaW5jbHVkZXMobW92aWVHZW5yZSlcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGdlbnJlQXJyO1xuICAgIH0sXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPVxuW1xuICB7XG4gICAgICAgICAgdGl0bGU6IFwiRGF3biBvZiB0aGUgUGxhbmV0IG9mIHRoZSBBcGVzXCIsXG4gICAgICAgICAgaW1hZ2U6IFwiaHR0cDovL2FwaS5hbmRyb2lkaGl2ZS5pbmZvL2pzb24vbW92aWVzLzEuanBnXCIsXG4gICAgICAgICAgcmF0aW5nczogWzgsIDcsIDYsIDUsIDEwXSxcbiAgICAgICAgICB5ZWFyOiAyMDE0LFxuICAgICAgICAgIGdlbnJlczogW1wiQWN0aW9uXCIsIFwiRHJhbWFcIiwgXCJTY2ktRmlcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiRGlzdHJpY3QgOVwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8yLmpwZ1wiLFxuICAgICAgICAgIHJhdGluZ3M6IFs2LCA1LCA4LCA4LCA5XSxcbiAgICAgICAgICB5ZWFyOiAyMDA5LFxuICAgICAgICAgIGdlbnJlczogW1wiQWN0aW9uXCIsIFwiU2NpLUZpXCIsIFwiVGhyaWxsZXJcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiVHJhbnNmb3JtZXJzOiBBZ2Ugb2YgRXh0aW5jdGlvblwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8zLmpwZ1wiLFxuICAgICAgICAgIHJhdGluZ3M6IFs1LCA1LCAzLCAyLCA3XSxcbiAgICAgICAgICB5ZWFyOiAyMDE0LFxuICAgICAgICAgIGdlbnJlczogW1wiQWN0aW9uXCIsIFwiQWR2ZW50dXJlXCIsIFwiU2NpLUZpXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIlgtTWVuOiBEYXlzIG9mIEZ1dHVyZSBQYXN0XCIsXG4gICAgICAgICAgaW1hZ2U6IFwiaHR0cDovL2FwaS5hbmRyb2lkaGl2ZS5pbmZvL2pzb24vbW92aWVzLzQuanBnXCIsXG4gICAgICAgICAgcmF0aW5nczogWzgsIDksIDcsIDddLFxuICAgICAgICAgIHllYXI6IDIwMTQsXG4gICAgICAgICAgZ2VucmVzOiBbXCJBY3Rpb25cIiwgXCJTY2ktRmlcIiwgXCJUaHJpbGxlclwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJUaGUgTWFjaGluaXN0XCIsXG4gICAgICAgICAgaW1hZ2U6IFwiaHR0cDovL2FwaS5hbmRyb2lkaGl2ZS5pbmZvL2pzb24vbW92aWVzLzUuanBnXCIsXG4gICAgICAgICAgcmF0aW5nczogWzcsIDcsIDgsIDgsIDYsIDYsIDcsIDhdLFxuICAgICAgICAgIHllYXI6IDIwMDQsXG4gICAgICAgICAgZ2VucmVzOiBbXCJEcmFtYVwiLCBcIlRocmlsbGVyXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIlRoZSBMYXN0IFNhbXVyYWlcIixcbiAgICAgICAgICBpbWFnZTogXCJodHRwOi8vYXBpLmFuZHJvaWRoaXZlLmluZm8vanNvbi9tb3ZpZXMvNi5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNywgNywgNiwgNSwgMiwgOSwgOF0sXG4gICAgICAgICAgeWVhcjogMjAwMyxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFjdGlvblwiLCBcIkRyYW1hXCIsIFwiSGlzdG9yeVwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJUaGUgQW1hemluZyBTcGlkZXItTWFuIDJcIixcbiAgICAgICAgICBpbWFnZTogXCJodHRwOi8vYXBpLmFuZHJvaWRoaXZlLmluZm8vanNvbi9tb3ZpZXMvNy5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNywgNSwgMywgMiwgOCwgOV0sXG4gICAgICAgICAgeWVhcjogMjAxNCxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFjdGlvblwiLCBcIkFkdmVudHVyZVwiLCBcIkZhbnRhc3lcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiVGFuZ2xlZFwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy84LmpwZ1wiLFxuICAgICAgICAgIHJhdGluZ3M6IFs3LCA4LCAzLCA2LCA4XSxcbiAgICAgICAgICB5ZWFyOiAyMDEwLFxuICAgICAgICAgIGdlbnJlczogW1wiQWN0aW9uXCIsIFwiRHJhbWFcIiwgXCJTY2ktRmlcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICAgdGl0bGU6IFwiUnVzaFwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy85LmpwZ1wiLFxuICAgICAgICAgIHJhdGluZ3M6IFs4LCA4LCA5LCA3XSxcbiAgICAgICAgICB5ZWFyOiAyMDEzLFxuICAgICAgICAgIGdlbnJlczogW1wiQW5pbWF0aW9uXCIsIFwiQ29tZWR5XCIsIFwiRmFtaWx5XCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkRyYWcgTWUgdG8gSGVsbFwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8xMC5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNiwgNiwgNywgN10sXG4gICAgICAgICAgeWVhcjogMjAwOSxcbiAgICAgICAgICBnZW5yZXM6IFtcIkhvcnJvclwiLCBcIlRocmlsbGVyXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkRlc3BpY2FibGUgTWUgMlwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8xMS5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbOSwgOSwgMywgNywgOF0sXG4gICAgICAgICAgeWVhcjogMjAxMyxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFuaW1hdGlvblwiLCBcIkNvbWVkeVwiLCBcIkZhbWlseVwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJLaWxsIEJpbGw6IFZvbC4gMVwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8xMi5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNCwgOCwgOCwgOSwgM10sXG4gICAgICAgICAgeWVhcjogMjAwMyxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFjdGlvblwiLCBcIkNyaW1lXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkEgQnVnJ3MgTGlmZVwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8xMy5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNywgNywgNywgNSwgNV0sXG4gICAgICAgICAgeWVhcjogMTk5OCxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFuaW1hdGlvblwiLCBcIkFkdmVudHVyZVwiLCBcIkNvbWVkeVwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgICB0aXRsZTogXCJMaWZlIG9mIEJyaWFuXCIsXG4gICAgICAgICAgaW1hZ2U6IFwiaHR0cDovL2FwaS5hbmRyb2lkaGl2ZS5pbmZvL2pzb24vbW92aWVzLzE0LmpwZ1wiLFxuICAgICAgICAgIHJhdGluZ3M6IFs5LCA5LCA0LCA1LCA4XSxcbiAgICAgICAgICB5ZWFyOiAxOTcyLFxuICAgICAgICAgIGdlbnJlczogW1wiQ29tZWR5XCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgIHRpdGxlOiBcIkhvdyB0byBUcmFpbiBZb3VyIERyYWdvblwiLFxuICAgICAgICAgIGltYWdlOiBcImh0dHA6Ly9hcGkuYW5kcm9pZGhpdmUuaW5mby9qc29uL21vdmllcy8xNS5qcGdcIixcbiAgICAgICAgICByYXRpbmdzOiBbNiwgOSwgOCwgNywgNSwgOF0sXG4gICAgICAgICAgeWVhcjogMjAxMCxcbiAgICAgICAgICBnZW5yZXM6IFtcIkFuaW1hdGlvblwiLCBcIkFkdmVudHVyZVwiLCBcIkZhbWlseVwiXVxuICAgICAgfVxuXTtcbiIsIi8vanNoaW50IGVzdmVyc2lvbjo2XG5pbXBvcnQgRWxlbWVudHMgZnJvbSAnLi9lbGVtZW50cydcbmltcG9ydCB7XG4gICAgZ2V0QXZlcmFnZSxcbiAgICBiaW5kRXZlbnQsXG4gICAgcGFyc2VNb3ZpZXMsXG4gICAgY2hlY2tNb3ZpZUltYWdlXG59IGZyb20gJy4vaGVscGVycydcblxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBjcmVhdGVNb3ZpZUxpc3QobW92aWVBcnIpIHtcbiAgICAgICAgRWxlbWVudHMuY2FyZENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZm9yIChsZXQgbW92aWUgb2YgbW92aWVBcnIpIHtcbiAgICAgICAgICAgIEVsZW1lbnRzLmNhcmRDb250YWluZXIuaW5uZXJIVE1MICs9XG4gICAgICAgICAgICAgICAgYDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLTMgbW92aWUtY2FyZC1jb250YWluZXJcIj5cbiAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWltYWdlXCI+XG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgY2FyZC1tb3ZpZS1jb3ZlclwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgPGg0IGNsYXNzPVwiY2FyZC10aXRsZSBjYXJkLW1vdmllLXRpdGxlXCI+PC9oND5cbiAgICAgICAgICAgIDxoNiBjbGFzcz1cImNhcmQtbWV0YSBjYXJkLW1vdmllLXllYXJcIj48L2g2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgY2FyZC1tb3ZpZS1nZW5yZVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJhclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWl0ZW0gY2FyZC1tb3ZpZS1yYXRpbmdcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldHMgdmFsdWVzIGZvciBlYWNoIG1vdmllIGluc2lkZSBjYXJkIGVsZW1lbnRzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92aWVBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIEVsZW1lbnRzLmNhcmRNb3ZpZUNvdmVyW2ldLnNyYyA9IG1vdmllQXJyW2ldLmltYWdlO1xuICAgICAgICAgICAgY2hlY2tNb3ZpZUltYWdlKGkpO1xuICAgICAgICAgICAgRWxlbWVudHMuY2FyZE1vdmllVGl0bGVbaV0uaW5uZXJIVE1MID0gbW92aWVBcnJbaV0udGl0bGU7XG4gICAgICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVZZWFyW2ldLmlubmVySFRNTCA9IG1vdmllQXJyW2ldLnllYXI7XG4gICAgICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVSYXRpbmdbaV0uc3R5bGUud2lkdGggPSBgJHtnZXRBdmVyYWdlKG1vdmllQXJyW2ldLnJhdGluZ3MpKiAxMH0lYDtcbiAgICAgICAgICAgIEVsZW1lbnRzLmNhcmRNb3ZpZVJhdGluZ1tpXS5pbm5lckhUTUwgPSBgJHtnZXRBdmVyYWdlKG1vdmllQXJyW2ldLnJhdGluZ3MpfWA7XG4gICAgICAgICAgICBmb3IgKGxldCBnZW5yZSBvZiBtb3ZpZUFycltpXS5nZW5yZXMpIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVHZW5yZVtpXS5pbm5lckhUTUwgKz0gYDxsYWJlbCBjbGFzcz1cImNoaXAgZ2VucmUtY2hpcFwiPiR7Z2VucmV9PC9sYWJlbD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIE9wZW5zIHNpZGViYXIgZm9yIHNlbGVjdGVkIG1vdmllXG4gICAgb3Blbk1vdmllVmlldyhpbmRleCkge1xuICAgICAgICBFbGVtZW50cy5tb3ZpZVByZXZpZXcuc3R5bGUud2lkdGggPSBcIjYwMHB4XCI7XG4gICAgICAgIEVsZW1lbnRzLm1vZGFsVGl0bGUuaW5uZXJIVE1MID0gRWxlbWVudHMuY2FyZE1vdmllVGl0bGVbaW5kZXhdLmlubmVySFRNTDtcbiAgICAgICAgRWxlbWVudHMubW9kYWxZZWFyLmlubmVySFRNTCA9IEVsZW1lbnRzLmNhcmRNb3ZpZVllYXJbaW5kZXhdLmlubmVySFRNTDtcbiAgICAgICAgRWxlbWVudHMubW9kYWxQb3N0ZXIuc3JjID0gRWxlbWVudHMuY2FyZE1vdmllQ292ZXJbaW5kZXhdLnNyYztcbiAgICAgICAgRWxlbWVudHMubW9kYWxHZW5yZXMuaW5uZXJIVE1MID0gRWxlbWVudHMuY2FyZE1vdmllR2VucmVbaW5kZXhdLmlubmVySFRNTDtcbiAgICAgICAgRWxlbWVudHMubW9kYWxSYXRpbmcuaW5uZXJIVE1MID0gRWxlbWVudHMuY2FyZE1vdmllUmF0aW5nW2luZGV4XS5pbm5lckhUTUw7XG4gICAgICAgIEVsZW1lbnRzLnJhdGluZ0NpcmxlLmNsYXNzTmFtZSA9IGBjMTAwIHAke3BhcnNlSW50KEVsZW1lbnRzLm1vZGFsUmF0aW5nLmlubmVySFRNTCkgKiAxMH0gY2VudGVyZWRgO1xuICAgIH0sXG5cbiAgICAvLyBDbG9zZXMgc2lkZWJhciBmb3IgY3VycmVudCBtb3ZpZVxuICAgIGNsb3NlTW92aWVWaWV3KCkge1xuICAgICAgICBFbGVtZW50cy5tb3ZpZVByZXZpZXcuc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICB9LFxuXG4gICAgLy8gRGlzcGxheXMgZWRpdCBtb2RhbCBmb3IgY3VycmVudCBtb3ZpZVxuICAgIGVkaXRNb3ZpZU1vZGFsKCkge1xuICAgICAgICBsZXQgbW92aWVHZW5yZXMgPSBBcnJheS5mcm9tKEVsZW1lbnRzLm1vZGFsR2VucmVzLmNoaWxkTm9kZXMpO1xuICAgICAgICBsZXQgZ2VucmVDaGlwcyA9IEFycmF5LmZyb20oRWxlbWVudHMuZ2VucmVFZGl0Q2hpcCk7XG4gICAgICAgIEVsZW1lbnRzLmVkaXRNb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgRWxlbWVudHMubmV3UmF0aW5nU3Bhbi5pbm5lckhUTUwgPSBFbGVtZW50cy5tb2RhbFJhdGluZy5pbm5lckhUTUw7XG4gICAgICAgIEVsZW1lbnRzLm5ld1JhdGluZ0NpcmNsZS5jbGFzc0xpc3QgPSBFbGVtZW50cy5yYXRpbmdDaXJsZS5jbGFzc0xpc3Q7XG4gICAgICAgIEVsZW1lbnRzLnJhdGluZ1NsaWRlci52YWx1ZSA9IDA7XG5cbiAgICAgICAgLy8gQ2xlYXJzIGFueSBhY3RpdmUgc3RhdGVzIGlmIHVzZXIgaGFzIHNlbGVjdGVkIGdlbnJlcyB3aXRob3V0IHN1Ym1pdGluZyB0aGVtXG4gICAgICAgIGdlbnJlQ2hpcHMuZm9yRWFjaChjaGlwID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlwLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpXG4gICAgICAgICAgICAgICAgY2hpcC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkcyBhY3RpdmUgc3RhdGUgdG8gY3VycmVudCBtb3ZpZSdzIGdlbnJlc1xuICAgICAgICBtb3ZpZUdlbnJlcy5mb3JFYWNoKGdlbnJlID0+IHtcbiAgICAgICAgICAgIGdlbnJlQ2hpcHMubWFwKGNoaXAgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGlwLmlubmVySFRNTCA9PT0gZ2VucmUuaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgICAgICBjaGlwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBEaXNwbGF5IG5ldyBtb3ZpZSBnZW5yZXMgYW5kIHJhdGluZyBhZnRlciBlZGl0aW5nXG4gICAgY2hhbmdlTW92aWVIVE1MKGluZGV4KSB7XG4gICAgICAgIGxldCBtb3ZpZUdlbnJlcyA9IEFycmF5LmZyb20oRWxlbWVudHMubW9kYWxHZW5yZXMuY2hpbGROb2Rlcyk7XG4gICAgICAgIGxldCBnZW5yZUNoaXBzID0gQXJyYXkuZnJvbShFbGVtZW50cy5nZW5yZUVkaXRDaGlwKTtcbiAgICAgICAgbGV0IG1vdmllQXJyID0gcGFyc2VNb3ZpZXMoKTtcbiAgICAgICAgRWxlbWVudHMuZWRpdE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBnZW5yZSBmb3IgYm90aCBjYXJkIGFuZCBzaWRlYmFyIHZpZXdcbiAgICAgICAgRWxlbWVudHMubW9kYWxHZW5yZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGdlbnJlQ2hpcHMuZm9yRWFjaChjaGlwID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlwLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50cy5tb2RhbEdlbnJlcy5pbm5lckhUTUwgKz0gYDxsYWJlbCBjbGFzcz1cImNoaXAgZ2VucmUtY2hpcFwiPiR7Y2hpcC5pbm5lckhUTUx9PC9sYWJlbD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEVsZW1lbnRzLmNhcmRNb3ZpZVRpdGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoRWxlbWVudHMuY2FyZE1vdmllVGl0bGVbaV0uaW5uZXJIVE1MID09PSBFbGVtZW50cy5tb2RhbFRpdGxlLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRzLmNhcmRNb3ZpZUdlbnJlW2ldLmlubmVySFRNTCA9IEVsZW1lbnRzLm1vZGFsR2VucmVzLmlubmVySFRNTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSByYXRpbmcgZm9yIGJvdGggY2FyZCBhbmQgc2lkZWJhciB2aWV3XG4gICAgICAgIEVsZW1lbnRzLmNhcmRNb3ZpZVJhdGluZ1tpbmRleF0uc3R5bGUud2lkdGggPSBgJHtnZXRBdmVyYWdlKG1vdmllQXJyW2luZGV4XS5yYXRpbmdzKSogMTB9JWA7XG4gICAgICAgIEVsZW1lbnRzLmNhcmRNb3ZpZVJhdGluZ1tpbmRleF0uaW5uZXJIVE1MID0gYCR7Z2V0QXZlcmFnZShtb3ZpZUFycltpbmRleF0ucmF0aW5ncyl9YDtcbiAgICAgICAgRWxlbWVudHMubW9kYWxSYXRpbmcuaW5uZXJIVE1MID0gRWxlbWVudHMuY2FyZE1vdmllUmF0aW5nW2luZGV4XS5pbm5lckhUTUw7XG4gICAgICAgIEVsZW1lbnRzLnJhdGluZ0NpcmxlLmNsYXNzTmFtZSA9IGBjMTAwIHAke3BhcnNlSW50KEVsZW1lbnRzLm1vZGFsUmF0aW5nLmlubmVySFRNTCkgKiAxMH0gY2VudGVyZWRgO1xuICAgIH0sXG5cbiAgICAvLyBDbG9zZSBjdXJyZW50IGFjdGl2ZSBtb2RhbFxuICAgIGNsb3NlQWN0aXZlTW9kYWwoaSkge1xuICAgICAgICBFbGVtZW50cy5tb2RhbHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSxcblxuICAgIC8vIERpc3BsYXkgZnVuY3Rpb24gZm9yIHRvcCByYXRlZCBhbmQgd29yc3QgcmF0ZWRcbiAgICBkaXNwbGF5TW92aWUobW92aWUpIHtcbiAgICAgICAgbGV0IHRpdGxlQ2FyZEFyciA9IEFycmF5LmZyb20oRWxlbWVudHMuY2FyZE1vdmllVGl0bGUpO1xuICAgICAgICB0aXRsZUNhcmRBcnIuZmlsdGVyKCh0aXRsZSwgaSkgPT5cbiAgICAgICAgICAgIG1vdmllLnRpdGxlID09PSB0aXRsZS5pbm5lckhUTUwgP1xuICAgICAgICAgICAgRWxlbWVudHMubW92aWVDYXJkQ29udGFpbmVyW2ldLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCIgOlxuICAgICAgICAgICAgRWxlbWVudHMubW92aWVDYXJkQ29udGFpbmVyW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICApO1xuICAgIH0sXG4gICAgLy8gRGlzcGxheSBmdW5jdGlvbiB1c2VkIHRvIGRpc3BsYXkgYnkgZ2VucmUgb3IgeWVhclxuICAgIGRpc3BsYXlNb3ZpZXMoYXJyKSB7XG4gICAgICAgIGxldCB0aXRsZUNhcmRBcnIgPSBBcnJheS5mcm9tKEVsZW1lbnRzLmNhcmRNb3ZpZVRpdGxlKTtcbiAgICAgICAgbGV0IG1vdmllVGl0bGVBcnIgPSBhcnIubWFwKG1vdmllID0+XG4gICAgICAgICAgICBtb3ZpZS50aXRsZVxuICAgICAgICApO1xuICAgICAgICB0aXRsZUNhcmRBcnIuZmlsdGVyKCh0aXRsZSwgaSkgPT5cbiAgICAgICAgICAgIG1vdmllVGl0bGVBcnIuaW5jbHVkZXModGl0bGUuaW5uZXJIVE1MKSA/XG4gICAgICAgICAgICBFbGVtZW50cy5tb3ZpZUNhcmRDb250YWluZXJbaV0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIiA6XG4gICAgICAgICAgICBFbGVtZW50cy5tb3ZpZUNhcmRDb250YWluZXJbaV0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8vIERpc3BsYXkgbW92aWUgbW9kYWwgZm9yIGFkZGluZyBtb3ZpZVxuICAgIGRpc3BsYXlOZXdNb3ZpZU1vZGFsKCkge1xuICAgICAgICBFbGVtZW50cy5uZXdNb3ZpZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBFbGVtZW50cy5tb3ZpZVRpdGxlLmZvY3VzKCk7XG4gICAgICAgIEVsZW1lbnRzLm1vdmllVGl0bGUuc2VsZWN0KCk7XG4gICAgfSxcblxuICAgIC8vIFZpc3VhbGx5IGNoYW5nZXMgcmF0aW5nIGNpcmNsZSBhcyBzbGlkZXIgdmFsdWUgY2hhbmdlc1xuICAgIGRpc3BsYXlSYXRpbmcoKSB7XG4gICAgICAgIEVsZW1lbnRzLm5ld1JhdGluZ1NwYW4uaW5uZXJIVE1MID0gdGhpcy52YWx1ZTtcbiAgICAgICAgRWxlbWVudHMubmV3UmF0aW5nQ2lyY2xlLmNsYXNzTmFtZSA9IGBjMTAwIHAke3RoaXMudmFsdWUgKiAxMH0gY2VudGVyZWRgO1xuICAgIH0sXG4gICAgLy8gU2hvd3MgaW5wdXQgZmllbGQgZm9yIHllYXIgc2VhcmNoXG4gICAgZGlzcGxheVllYXJJbnB1dCgpIHtcbiAgICAgICAgRWxlbWVudHMubW92aWVZZWFySW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuICAgICAgICBFbGVtZW50cy5tb3ZpZVllYXJJbnB1dC5mb2N1cygpO1xuICAgICAgICBFbGVtZW50cy5tb3ZpZVllYXJJbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgYmluZEV2ZW50KGRvY3VtZW50LmJvZHksIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgRWxlbWVudHMubW92aWVZZWFySW5wdXQuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gRGlzcGxheSBhbGwgbW92aWUgY2FyZHNcbiAgICBkaXNwbGF5QWxsTW92aWVzKCkge1xuICAgICAgICBsZXQgbW92aWVDYXJkQXJyID0gQXJyYXkuZnJvbShFbGVtZW50cy5tb3ZpZUNhcmRDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gbW92aWVDYXJkQXJyLmZvckVhY2goY2FyZCA9PlxuICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgICk7XG4gICAgfSxcbiAgICAvLyBSZW5kZXJzIEhUTUwgZm9yIG5ldyBtb3ZpZVxuICAgIHJlbmRlck5ld01vdmllKG5ld01vdmllLCBpKSB7XG4gICAgICAgIGNvbnN0IG1vdmllQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb3ZpZUNhcmQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb2x1bW4gY29sLTMgbW92aWUtY2FyZC1jb250YWluZXInKTtcbiAgICAgICAgbW92aWVDYXJkLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWltYWdlXCI+XG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgY2FyZC1tb3ZpZS1jb3ZlclwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgPGg0IGNsYXNzPVwiY2FyZC10aXRsZSBjYXJkLW1vdmllLXRpdGxlXCI+PC9oND5cbiAgICAgICAgICAgIDxoNiBjbGFzcz1cImNhcmQtbWV0YSBjYXJkLW1vdmllLXllYXJcIj48L2g2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgY2FyZC1tb3ZpZS1nZW5yZVwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJhclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyLWl0ZW0gY2FyZC1tb3ZpZS1yYXRpbmdcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuICAgICAgICBFbGVtZW50cy5jYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vdmllQ2FyZCk7XG5cbiAgICAgICAgRWxlbWVudHMuY2FyZE1vdmllQ292ZXJbaV0uc3JjID0gbmV3TW92aWUuaW1hZ2UgfHwgJ2Rpc3QvcGljcy9tb3ZpZS1wbGFjZWhvbGRlci5zdmcnO1xuICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVUaXRsZVtpXS5pbm5lckhUTUwgPSBuZXdNb3ZpZS50aXRsZTtcbiAgICAgICAgRWxlbWVudHMuY2FyZE1vdmllWWVhcltpXS5pbm5lckhUTUwgPSBuZXdNb3ZpZS55ZWFyO1xuICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVSYXRpbmdbaV0uc3R5bGUud2lkdGggPSBgJHtnZXRBdmVyYWdlKG5ld01vdmllLnJhdGluZ3MpKiAxMH0lYDtcbiAgICAgICAgRWxlbWVudHMuY2FyZE1vdmllUmF0aW5nW2ldLmlubmVySFRNTCA9IGAke2dldEF2ZXJhZ2UobmV3TW92aWUucmF0aW5ncyl9YDtcbiAgICAgICAgZm9yIChsZXQgZ2VucmUgb2YgbmV3TW92aWUuZ2VucmVzKSB7XG4gICAgICAgICAgICBFbGVtZW50cy5jYXJkTW92aWVHZW5yZVtpXS5pbm5lckhUTUwgKz0gYDxsYWJlbCBjbGFzcz1cImNoaXBcIj4ke2dlbnJlfTwvbGFiZWw+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIEVsZW1lbnRzLm5ld01vdmllTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSxcblxuICAgIC8vIFByZXZpZXdzIGdlbnJlcyBmb3IgdXNlciB3aGVuIGVkaXRpbmcgbW92aWVcbiAgICBwcmV2aWV3R2VucmVzKGdlbnJlKSB7XG4gICAgICAgIGlmICghZ2VucmUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgZ2VucmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZW5yZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cblxufTtcbiJdfQ=="}